{"version":3,"sources":["Redux/slices/auth.js","Redux/slices/player.js","Redux/slices/history.js","Redux/slices/formLogin.js","Redux/slices/index.js","Redux/index.js","Api/axiosClient.js","Api/auth.js","Api/song.js","Components/StyledPage/StyledHomePage.js","Components/StyledPage/StyledSearchResultPage.js","Utilities/theme.js","Utilities/validations.js","Utilities/convertSongInfo.js","Utilities/dimensionHook.js","Utilities/sleep.js","Components/StyledPage/StyledAccountPage.js","Components/StyledComponent/StyledButton.js","Components/StyledComponent/StyledBackground.js","Components/StyledComponent/StyledFormControl.js","Components/StyledComponent/StyledFormModule.js","Components/SideBarComponent/index.jsx","Components/HeaderComponent/index.jsx","Components/InputComponent/index.jsx","Components/FormLoginComponent/index.jsx","Components/FormRegisterComponent/index.jsx","Components/LoadingOverLay/index.jsx","Components/SearchResultBox/index.jsx","Components/SongItemComponent/index.jsx","Components/SideBarItemComponent/index.jsx","Constant/FormLogin.js","Modules/HeaderModule/index.jsx","Utilities/useDebounce.js","Constant/EnterKey.js","Modules/LoginModule/index.jsx","Modules/RegisterModule/index.jsx","Modules/FooterModule/index.jsx","Modules/SearchResultItemModule/index.jsx","Modules/AddMenuModule/index.jsx","Components/LoginModalComponent/index.jsx","Components/FooterComponent/index.jsx","Components/SearchResultItem/index.jsx","Components/AddMenuComponent/index.jsx","Components/AvatarComponent/index.jsx","Pages/Home/index.jsx","Routes/index.js","Pages/SearchResult/index.jsx","Pages/AccountSetting/index.jsx","Layout/index.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["login","createAsyncThunk","body","a","rejectWithValue","authApi","res","data","register","getInfo","auth","createSlice","name","initialState","accessToken","userInfo","isLoading","reducers","logout","state","extraReducers","builder","addCase","fulfilled","action","payload","meta","token","pending","rejected","authSelector","actions","player","require","playlist","currentSong","isPlaying","isClosed","listPlayedSongs","concatPlaylist","forEach","song","some","item","musicSrc","push","toast","success","replacePlaylist","play","pause","refreshPlaylist","closePlayer","openPlayer","addPlayedSong","updateCurrentSong","playerSelector","history","recently","updateHistory","songIndex","findIndex","splice","unshift","slice","historySelector","formLogin","isShowFormLogin","showFormLogin","hiddenFormLogin","formLoginSelector","rootReducer","combineReducers","authReducer","playerReducer","historyReducer","formLoginReducer","persistConfig","key","storage","whitelist","persistedReducer","persistReducer","store","configureStore","reducer","middleware","thunk","persistor","persistStore","queryString","axiosClient","axios","create","baseURL","headers","paramsSerializer","params","stringify","interceptors","request","use","config","getState","Authorization","response","error","status","dispatch","post","get","updateInfo","patch","songApi","query","url","Object","keys","map","index","join","slug","StyledHomePage","styled","div","StyledSearchResultPage","theme","colors","main","secondary","purple","orange","gray","gray_1","gray_2","gray_3","gray_4","gray_5","gray_6","black","bgBtn","breakPoints","breakSmall","breakMobile","breakMobileMedium","breakTablet","breakOnlyMobile","breakMedium","breakIpadPro","breakLarge","breakBig","breakpoint","css","loginSchema","yup","shape","email","required","password","registerSchema","confirmPassword","oneOf","convertSongInfo","songInfo","fileUrl","cover","thumbUrl","singer","lyric","lyrics","getWindowDimensions","window","width","innerWidth","height","innerHeight","useWindowDimensions","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","sleep","ms","Promise","resolve","setTimeout","StyledAccountPage","StyledButton","button","p","StyledUpdateButton","disabled","StyledBackground","StyledFormControl","SideBarComponent","itemModelTop","iconName","title","link","PATH_HOME","itemModelBottom","useSelector","Container","initial","x","animate","transition","duration","to","className","src","alt","style","motion","HeaderComponent","isBlur","onClickLogin","keySearch","isSearching","onChangeKeySearch","searchResult","isShowSearchResultBox","onShowSearchResultBox","onHiddenSearchResultBox","isFocused","onClickSearchAll","onKeyUpInput","onClickLogout","MenuAccount","Menu","PATH_ACCOUNT_SETTING","onClick","y","type","value","onChange","onFocus","onBlur","onKeyUp","size","color","avatarUrl","InputComponent","label","touched","StyledTextField","TextField","fullWidth","helperText","variant","autoComplete","FormLoginComponent","values","errors","onSubmit","isSubmitting","form","FormRegisterComponent","LoadingOverLay","SearchResultBox","songs","playlists","length","_id","SongItemComponent","onClickPlayBtn","onClickAddBtn","playerRedux","listPlaying","isExisted","SideBarItemComponent","whileHover","scale","activeClassName","exact","FORM_LOGIN","HeaderModule","setKeySearch","setIsSearching","setIsBlur","setSearchResult","setIsShowSearchResultBox","isSearched","setIsSearched","setIsFocused","useHistory","useDispatch","changeHeaderStatus","scrollY","document","handleSearch","q","prevState","handleShowSearchResultBox","handleHiddenSearchResultBox","callback","delay","deps","_callback","useCallback","timerId","clearTimeout","useDebounce","trim","handleSwitchToSearchResult","PATH_SEARCH_RESULT","event","target","location","pathname","LoginModule","onHiddenLogin","initialValues","setSubmitting","unwrapResult","errorMessage","validationSchema","props","handleChange","handleBlur","handleSubmit","RegisterModule","FooterModule","SearchResultSongItemModule","onClickPlay","anchorEl","setAnchorEl","open","Boolean","id","toString","undefined","onShowMenu","currentTarget","AddMenuModule","onAddToCurrent","warning","console","log","LoginModalComponent","setForm","handleSwitchForm","FooterComponent","itemsModel","Item","NavLink","SearchResultSongItem","SongContainer","sizeDesktop","sizeTablet","display","author","span","Popper","listVisitorIds","AddMenuComponent","AvatarComponent","ADD_TAG","REPLACE_TAG","router","path","component","setSongs","listRecently","fetchSongs","all","topSongs","sort","handleClickSong","tag","Date","now","useParams","listResults","setListResults","result","username","avatar","setUpdateInfo","setIsLoading","isValidForm","setIsValidForm","avatarInputRef","useRef","handleUpdate","formData","FormData","append","followers","htmlFor","ref","accept","files","Layout","noGutters","paddingBottom","route","App","audioRef","volumeRef","isAuthPage","assign","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","draggable","quietUpdate","defaultPosition","right","top","audioLists","showDownload","glassBg","mode","autoPlay","getAudioInstance","current","clearPriorAudioLists","showThemeSwitch","onAudioListsChange","currentPlayId","audioInfo","onAudioPlay","volume","onAudioProgress","currentTime","then","catch","finally","onAudioPause","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","loading","getElementById"],"mappings":"sZAIaA,EAAQC,2BAAiB,aAAD,uCAAe,WAAOC,EAAP,oBAAAC,EAAA,6DAAeC,EAAf,EAAeA,gBAAf,kBAE1BC,GAAQL,MAAME,GAFY,cAEtCI,EAFsC,yBAGrCA,EAAIC,MAHiC,yDAKrCH,EAAgB,EAAD,KALsB,yDAAf,yDASxBI,EAAWP,2BAAiB,gBAAD,uCAAkB,WAAOC,EAAP,oBAAAC,EAAA,6DAAeC,EAAf,EAAeA,gBAAf,kBAEhCC,GAAQG,SAASN,GAFe,cAE5CI,EAF4C,yBAG3CA,EAAIC,MAHuC,yDAK3CH,EAAgB,EAAD,KAL4B,yDAAlB,yDAS3BK,EAAUR,2BAAiB,eAAD,uCAAiB,WAAOC,EAAP,oBAAAC,EAAA,6DAAeC,EAAf,EAAeA,gBAAf,kBAE9BC,GAAQI,UAFsB,cAE1CH,EAF0C,yBAGzCA,EAAIC,MAHqC,yDAKzCH,EAAgB,EAAD,KAL0B,yDAAjB,yDAejCM,EAAOC,sBAAY,CACrBC,KAAM,OACNC,aARiB,CACjBC,YAAa,KACbC,SAAU,KACVC,WAAW,GAMXC,SAAU,CACNC,OADM,SACCC,GACHA,EAAML,YAAc,KACpBK,EAAMJ,SAAW,KACjBI,EAAMH,WAAY,IAG1BI,cAAe,SAACC,GACZA,EAAQC,QAAQtB,EAAMuB,WAAW,SAACJ,EAAOK,GACrC,MAAuBA,EAAOC,QAAtBlB,EAAR,EAAQA,KAAMmB,EAAd,EAAcA,KACdP,EAAMJ,SAAWR,EACjBY,EAAML,YAAcY,EAAKC,MACzBR,EAAMH,WAAY,KAGtBK,EAAQC,QAAQtB,EAAM4B,SAAS,SAACT,GAC5BA,EAAMH,WAAY,KAGtBK,EAAQC,QAAQtB,EAAM6B,UAAU,SAACV,GAC7BA,EAAML,YAAc,KACpBK,EAAMJ,SAAW,KACjBI,EAAMH,WAAY,KAGtBK,EAAQC,QAAQd,EAASe,WAAW,SAACJ,EAAOK,GACxC,MAAuBA,EAAOC,QAAtBlB,EAAR,EAAQA,KAAMmB,EAAd,EAAcA,KACdP,EAAMJ,SAAWR,EACjBY,EAAML,YAAcY,EAAKC,MACzBR,EAAMH,WAAY,KAGtBK,EAAQC,QAAQd,EAASoB,SAAS,SAACT,GAC/BA,EAAMH,WAAY,KAGtBK,EAAQC,QAAQd,EAASqB,UAAU,SAACV,GAChCA,EAAML,YAAc,KACpBK,EAAMJ,SAAW,KACjBI,EAAMH,WAAY,KAGtBK,EAAQC,QAAQb,EAAQc,WAAW,SAACJ,EAAOK,GACvC,IAAQjB,EAASiB,EAAOC,QAAhBlB,KACRY,EAAMJ,SAAWR,EACjBY,EAAMH,WAAY,KAGtBK,EAAQC,QAAQb,EAAQmB,SAAS,SAACT,GAC9BA,EAAMH,WAAY,QAKjBc,EAAe,SAAAX,GAAK,OAAIA,EAAMT,MAE5BQ,EAAWR,EAAKqB,QAAhBb,OAEAR,IAAf,QCtFMsB,GAASrB,EAVSsB,EAAQ,IAAxBtB,aAUmB,CACvBC,KAAM,SACNC,aAViB,CACjBqB,SAAU,GACVC,YAAa,KACbC,WAAW,EACXC,UAAU,EACVC,gBAAiB,IAMjBrB,SAAU,CACNsB,eAAgB,SAACpB,EAAOK,GACAA,EAAZC,QACAe,SAAQ,SAAAC,GACMtB,EAAMe,SAASQ,MAAK,SAAAC,GAAI,OAAIA,EAAKC,WAAaH,EAAKG,cAEjEzB,EAAMe,SAASW,KAAKJ,GACpBK,IAAMC,QAAQ,wDAI1BC,gBAAiB,SAAC7B,EAAOK,GACrB,IAAQC,EAAYD,EAAZC,QACRN,EAAMe,SAAWT,GAErBwB,KAAM,SAAC9B,GACHA,EAAMiB,WAAY,GAEtBc,MAAO,SAAC/B,GACJA,EAAMiB,WAAY,GAEtBe,gBAAiB,SAAChC,GACdA,EAAMe,SAAW,IAErBkB,YAAa,SAACjC,GACVA,EAAMkB,UAAW,GAErBgB,WAAY,SAAClC,GACTA,EAAMkB,UAAW,GAErBiB,cAAe,SAACnC,EAAOK,GACnBL,EAAMmB,gBAAgBO,KAAKrB,EAAOC,UAEtC8B,kBAAmB,SAACpC,EAAOK,GACvBL,EAAMgB,YAAcX,EAAOC,YAK1B+B,EAAiB,SAAArC,GAAK,OAAIA,EAAMa,QAEtC,EAUHA,EAAOD,QATPQ,EADG,EACHA,eACAU,EAFG,EAEHA,KACAC,EAHG,EAGHA,MACAF,EAJG,EAIHA,gBAEAI,GANG,EAKHD,gBALG,EAMHC,aACAC,EAPG,EAOHA,WACAC,EARG,EAQHA,cACAC,EATG,EASHA,kBAGWvB,IAAf,QC7DMyB,EAAU9C,sBAAY,CACxBC,KAAM,UACNC,aAPiB,CACjB4C,QAAS,GACTC,SAAU,IAMVzC,SAAU,CACN0C,cAAe,SAACxC,EAAOK,GACnB,IAAMoC,EAAYzC,EAAMsC,QAAQI,WAAU,SAAApB,GAAI,OAAIjB,EAAOC,QAAQmB,WAAaH,EAAKG,aAChE,IAAfgB,GAGAzC,EAAMsC,QAAQK,OAAOF,EAAW,GAFhCzC,EAAMsC,QAAQM,QAAQvC,EAAOC,SAKjCN,EAAMuC,SAAWvC,EAAMsC,QAAQO,MAAM,EAAG,OAKvCC,EAAkB,SAAA9C,GAAK,OAAIA,EAAMsC,SAG1CE,EACAF,EAAQ1B,QADR4B,cAGWF,IAAf,QCxBMS,EAAYvD,sBAAY,CAC1BC,KAAM,YACNC,aANiB,CACjBsD,iBAAiB,GAMjBlD,SAAU,CACNmD,cAAe,SAACjD,GACZA,EAAMgD,iBAAkB,GAE5BE,gBAAiB,SAAClD,GACdA,EAAMgD,iBAAkB,MAKvBG,EAAoB,SAAAnD,GAAK,OAAIA,EAAM+C,WAEzC,EAGHA,EAAUnC,QAFVqC,EADG,EACHA,cACAC,GAFG,EAEHA,gBAGWH,KAAf,QCPeK,GAPKC,YAAgB,CAChC9D,KAAM+D,EACNzC,OAAQ0C,EACRjB,QAASkB,EACTT,UAAWU,KCTTC,GAAgB,CAClBC,IAAK,OACLC,YACAC,UAAW,CAAC,OAAQ,YAGlBC,GAAmBC,YAAeL,GAAeN,IAEjDY,GAAQC,yBAAe,CACzBC,QAASJ,GACTK,WAAY,CAACC,OAKJC,GAAYC,YAAaN,IAEvBA,MCrBTO,GAAczD,EAAQ,KAEtB0D,GAAcC,IAAMC,OAAO,CAC7BC,QAAS,yCAETC,QAAS,CACL,eAAgB,mBAChB,mBAAoB,kBAGxBC,iBAAkB,SAACC,GAAD,OAAYP,GAAYQ,UAAUD,MAGxDN,GAAYQ,aAAaC,QAAQC,KAAI,SAACC,GAClC,IAAM3E,EAAQwD,GAAMoB,WAAW7F,KAAKI,YAKpC,OAJIa,IACA2E,EAAOP,QAAQS,cAAf,iBAAyC7E,IAGtC2E,KAGXX,GAAYQ,aAAaM,SAASJ,KAC9B,SAACI,GACG,OAAIA,GAAYA,EAASlG,KACdkG,KAKf,SAACC,GAKG,MAHIA,EAAMD,UAAsC,MAA1BC,EAAMD,SAASE,QACjCxB,GAAMyB,SAAS1F,KAEbwF,KAICf,I,eAAAA,MCxCFtF,GAAU,CACnBL,MADmB,SACbE,GAEF,OAAOyF,GAAYkB,KADP,cACiB3G,IAEjCM,SALmB,SAKVN,GAEL,OAAOyF,GAAYkB,KADP,iBACiB3G,IAEjCO,QATmB,WAWf,OAAOkF,GAAYmB,IADP,QAGhBC,WAbmB,SAaR7G,GAEP,OAAOyF,GAAYqB,MADP,QACkB9G,KCdzB+G,GACK,SAACC,GACX,IAOMC,EAAM,SAPQC,OAAOC,KAAKH,GAAOI,KAAI,SAACxC,EAAKyC,GAC7C,OAAc,IAAVA,EACM,IAAN,OAAWzC,EAAX,YAAkBoC,EAAMpC,IAElB,IAAN,OAAWA,EAAX,YAAkBoC,EAAMpC,OAE7B0C,KAAK,IAER,OAAO7B,GAAYmB,IAAIK,IAVlBF,GAYM,SAACQ,GACZ,IAAMN,EAAM,UAAYM,EACxB,OAAO9B,GAAYkB,KAAKM,I,QCfnBO,GAAiBC,IAAOC,IAAV,gMCAdC,GAAyBF,IAAOC,IAAV,oKCCtBE,GAAQ,CACjBC,OAAQ,CACJC,KAAM,UACNC,UAAW,UACXC,OAAQ,UACRC,OAAQ,UACRC,KAAM,UACNC,OAAQ,UACRC,OAAQ,UACRC,OAAQ,UACRC,OAAQ,UACRC,OAAQ,UACRC,OAAQ,UACRC,MAAO,UACPC,MAAO,WAEXC,YAAa,CACTC,WAAY,QACZC,YAAa,QACbC,kBAAmB,QACnBC,YAAa,QACbC,gBAAiB,QACjBC,YAAa,QACbC,aAAc,SACdC,WAAY,SACZC,SAAU,WAILC,GAMI,kBAAaC,YAAZ,KAAD,4FACY1B,GAAMe,YAAYE,YACjCS,IAAG,WAAH,eARDD,GAgBI,kBAAaC,YAAZ,KAAD,4FACY1B,GAAMe,YAAYI,YACjCO,IAAG,WAAH,eAlBDD,GA0BK,kBAAaC,YAAZ,KAAD,4FACW1B,GAAMe,YAAYO,aACjCI,IAAG,WAAH,e,SC1DDC,GAAcC,OAAaC,MAAM,CAC1CC,MAAOF,OAAaG,SAAS,2BAA2BD,MAAM,qBAC9DE,SAAUJ,OAAaG,SAAS,6BAGvBE,GAAiBL,OAAaC,MAAM,CAC7CC,MAAOF,OAAaG,SAAS,2BAA2BD,MAAM,qBAC9DE,SAAUJ,OAAaG,SAAS,2BAChCG,gBAAiBN,OAAaG,SAAS,2BAA2BI,MAAM,CAACP,KAAQ,YAAa,MAAO,0BCV5FQ,GAAkB,SAACC,GAS5B,MARe,CACXrF,IAAKqF,EAASrF,KAAOqF,EAAS1C,KAC9B7G,KAAMuJ,EAASvJ,KACfgC,SAAUuH,EAASvH,UAAYuH,EAASC,QACxCC,MAAOF,EAASE,OAASF,EAASG,SAClCC,OAAQJ,EAASI,QAAU,GAC3BC,MAAOL,EAASK,OAASL,EAASM,SCL1C,SAASC,KACP,MAAmDC,OACnD,MAAO,CACLC,MAFF,EAAQC,WAGNC,OAHF,EAA2BC,aAOtB,SAASC,KACd,MAAgDC,mBAASP,MAAzD,mBAAOQ,EAAP,KAAyBC,EAAzB,KAWA,OATAC,qBAAU,WACR,SAASC,IACPF,EAAoBT,MAItB,OADAC,OAAOW,iBAAiB,SAAUD,GAC3B,kBAAMV,OAAOY,oBAAoB,SAAUF,MACjD,IAEIH,ECtBF,I,qHAAMM,GAAQ,SAACC,GAClB,OAAO,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAASF,OCGzCI,GAAoBlE,IAAOC,IAAV,gpEAOpB2B,GAPoB,4EAiBpBA,GAjBoB,8IA6BhBA,GA7BgB,8EA+CZA,GA/CY,sFAmDZA,GAnDY,sFAuDZA,GAvDY,sFAkEpBA,GAlEoB,mGAuEpBA,GAvEoB,sEA2EpBA,GA3EoB,sECFjBuC,GAAenE,IAAOoE,OAAV,6MAQG,SAAAC,GAAC,OAAIA,EAAElE,MAAMC,OAAOE,aAInCgE,GAAqBtE,YAAOmE,GAAPnE,CAAH,uKAGP,SAAAqE,GAAC,OAAIA,EAAEE,SAAW,OAAS,iBAGvB,SAAAF,GAAC,OAAIA,EAAEE,SAAW,OAASF,EAAElE,MAAMC,OAAOE,aClBzDkE,GAAmBxE,IAAOC,IAAV,iRCAhBwE,IDWwBzE,IAAOC,IAAV,6OCXDD,IAAOC,IAAV,qD,ICAED,IAAOC,IAAV,gF,gBCOhByE,GAAmB,WAC5B,IAAMC,EAAe,CACjB,CACIC,SAAU,OACVC,MAAO,OACPC,KAAMC,IAEV,CACIH,SAAU,gBACVC,MAAO,YACPC,KAAMC,IAEV,CACIH,SAAU,WACVC,MAAO,YACPC,KAAMC,KAIRC,EAAkB,CACpB,CACIJ,SAAU,SACVC,MAAO,YACPC,KAAMC,KAIRtK,EAAYwK,YAAYpJ,GAAgBpB,UAE9C,OACI,gBAACyK,GAAD,CACIC,QAAS,CACLC,GAAI,KAERC,QAAS,CACLD,EAAG,GAEPE,WAAY,CACRC,SAAU,IAEd9K,UAAWA,EAVf,UAYI,gBAAC,IAAD,CAAM+K,GAAIT,GAAWU,UAAU,kBAA/B,UACI,sBAAKC,IAAI,wBAAwBC,IAAI,KACrC,uBAAMC,MAAO,CAAE,MAAO,MAAQH,UAAU,gBACxC,uBAAMG,MAAO,CAAE,MAAO,MAAQH,UAAU,gBACxC,uBAAMG,MAAO,CAAE,MAAO,MAAQH,UAAU,mBAE5C,sBAAKA,UAAU,WAAf,SACKd,EAAahF,KAAI,SAAC3E,EAAM4E,GACrB,OACI,eAAC,GAAD,CAAkChH,KAAMoC,GAAb4E,QAIvC,sBAAK6F,UAAU,0BAAf,SACKT,EAAgBrF,KAAI,SAAC3E,EAAM4E,GACxB,OACI,eAAC,GAAD,CAAkChH,KAAMoC,GAAb4E,YAQ7CsF,GAAYlF,YAAO6F,KAAO5F,IAAdD,CAAH,unCACS,SAAAqE,GAAC,OAAIA,EAAElE,MAAMC,OAAOE,aAiBZ,SAAA+D,GAAC,OAAIA,EAAElE,MAAMC,OAAOU,UAEtC,SAAAuD,GAAC,OAAIA,EAAE5J,UAAY,yCAA2C,MAezC,SAAA4J,GAAC,OAAIA,EAAElE,MAAMC,OAAOQ,U,SCnG1CkF,GAAkB,SAAC,GAczB,IAAD,IAbFC,cAaE,aAZFC,oBAYE,MAZa,aAYb,MAXFC,iBAWE,MAXU,GAWV,MAVFC,mBAUE,aATFC,yBASE,MATkB,aASlB,EARFC,EAQE,EARFA,aAQE,IAPFC,6BAOE,aANFC,6BAME,MANsB,aAMtB,MALFC,+BAKE,MALwB,aAKxB,MAJFC,iBAIE,SAHFC,EAGE,EAHFA,iBAGE,IAFFC,oBAEE,MAFa,aAEb,MADFC,qBACE,MADc,aACd,EACM1D,EAAUI,KAAVJ,MACF7J,EAAW6L,YAAY9K,GAAcf,SAErCwN,EAAc,WAChB,OACI,gBAACC,GAAD,WACI,gBAAC,IAAD,CAAMrB,GAAIsB,GAAsBrB,UAAU,OAA1C,UACI,uBAAMA,UAAU,OAAhB,SACI,2BAAUxM,KAAK,+BAEnB,uBAAMwM,UAAU,OAAhB,kCAIJ,uBAAKA,UAAU,OAAOsB,QAASJ,EAA/B,UACI,uBAAMlB,UAAU,OAAhB,SACI,2BAAUxM,KAAK,sBAEnB,uBAAMwM,UAAU,OAAhB,6CAOhB,OACI,gBAAC,GAAD,CACIA,UAAU,aACVM,OAAQA,EACRS,UAAWA,EACXvD,MAAOA,EACPkC,QAAS,CACL6B,GAAI,KAER3B,QAAS,CACL2B,EAAG,GAEP1B,WAAY,CACRC,SAAU,IAZlB,UAeI,uBAAKE,UAAU,uBAAf,UACI,uBAAMA,UAAU,aAAhB,SACI,2BAAUxM,KAAK,qBAEnB,wBACIgO,KAAK,OACLC,MAAOjB,EACPkB,SAAUhB,EACViB,QAASd,EACTe,OAAQd,EACRe,QAASZ,IAEZR,GACG,uBAAMT,UAAU,UAAhB,SACI,eAAC,cAAD,CAAY8B,KAAM,GAAIC,MAAM,WAGnCnB,GACG,sBAAKZ,UAAU,eAAf,SACI,eAAC,GAAD,CAAiBQ,UAAWA,EAAWG,aAAcA,EAAcK,iBAAkBA,SAIjG,uBAAKhB,UAAU,kBAAf,UACI,0BAAQA,UAAU,uBAAlB,UACI,uBAAMA,UAAU,aAAhB,SACI,2BAAUxM,KAAK,2BAEnB,uBAAMwM,UAAU,OAAhB,uBAIJ,sBAAKA,UAAU,WAAf,SACKrM,EACG,uCACI,eAAC,GAAD,CAEIqO,UAAWrO,EAASqO,YAExB,sBAAKhC,UAAU,cAAf,SACI,eAACmB,EAAD,SAIR,eAACzC,GAAD,CAAc4C,QAASf,EAAvB,+CAUlBa,GAAO7G,IAAOC,IAAV,wcACc,SAAAoE,GAAC,OAAIA,EAAElE,MAAMC,OAAOE,aAWZ,SAAA+D,GAAC,OAAIA,EAAElE,MAAMC,OAAOC,QAc9C6E,GAAYlF,YAAO6F,KAAO5F,IAAdD,CAAH,ozDAST,gBAAG+F,EAAH,EAAGA,OAAQ5F,EAAX,EAAWA,MAAX,OAAuB4F,EAAM,mFAEA5F,EAAMC,OAAOM,OAFb,oFAK3B,KAECkB,GAhBM,qEAsBDA,GAtBC,4EA6BQ,SAAAyC,GAAC,OAAIA,EAAEpB,MAAQ,KAAOoB,EAAEmC,UAAY,OAAS,UAkBlD5E,GA/CH,mFAqEa,SAAAyC,GAAC,OAAIA,EAAElE,MAAMC,OAAOM,SAOtCkB,GA5EK,2J,UC/IF8F,GAAiB,SAAC,GASxB,IAAD,IARFC,aAQE,MARM,GAQN,MAPFT,aAOE,MAPM,GAON,MANFD,YAME,MANK,OAML,MALFlI,aAKE,MALM,GAKN,MAJF6I,eAIE,aAHF3O,YAGE,MAHK,GAGL,MAFFkO,gBAEE,MAFS,aAET,MADFE,cACE,MADO,aACP,EAEF,OACI,eAACQ,GAAD,UACI,eAACC,GAAA,EAAD,CACIH,MAAOA,EACPI,WAAS,EACTb,MAAOA,EACPD,KAAMA,EACNlI,QAASA,GAAS6I,EAClBI,WAAcjJ,GAAS6I,EAAU7I,EAAQ,GACzC9F,KAAMA,EACNgP,QAAQ,WACRd,SAAUA,EACVE,OAAQA,EACRa,aAAa,QAMvBL,GAAkB7H,IAAOC,IAAV,w7BC5BRkI,GAAqB,SAAC,GAQ5B,IAAD,IAPFC,cAOE,MAPO,GAOP,MANFC,cAME,MANO,GAMP,MALFT,eAKE,MALQ,GAKR,MAJFT,gBAIE,MAJS,aAIT,MAHFE,cAGE,MAHO,aAGP,MAFFiB,gBAEE,MAFS,aAET,MADFC,oBACE,SAEF,OACI,gBAAC,GAAD,CAAWD,SAAUA,EAArB,UACI,sBAAK7C,UAAU,UAAf,mBAGA,uBAAKA,UAAU,WAAf,UACI,eAAChB,GAAD,UACI,eAAC,GAAD,CACIkD,MAAM,QACNT,MAAOkB,EAAOnG,MACdlD,MAAOsJ,EAAOpG,MACd2F,QAASA,EAAQ3F,MACjBhJ,KAAK,QACLkO,SAAUA,EACVE,OAAQA,MAGhB,eAAC5C,GAAD,UACI,eAAC,GAAD,CACIkD,MAAM,WACNT,MAAOkB,EAAOjG,SACdpD,MAAOsJ,EAAOlG,SACdyF,QAASA,EAAQzF,SACjBlJ,KAAK,WACLkO,SAAUA,EACVE,OAAQA,EACRJ,KAAK,kBAIjB,sBAAKxB,UAAU,WAAf,SACI,eAACnB,GAAD,CAAoB2C,KAAK,SAASgB,QAAQ,YAAY1D,SAAUgE,EAAhE,yBAMVrD,GAAYlF,YAAO6F,KAAO2C,KAAdxI,CAAH,kcAIY,SAAAqE,GAAC,OAAIA,EAAElE,MAAMC,OAAOQ,UCnDlC6H,GAAwB,SAAC,GAQ/B,IAAD,IAPFL,cAOE,MAPO,GAOP,MANFC,cAME,MANO,GAMP,MALFT,eAKE,MALQ,GAKR,MAJFT,gBAIE,MAJS,aAIT,MAHFE,cAGE,MAHO,aAGP,MAFFiB,gBAEE,MAFS,aAET,MADFC,oBACE,SAEF,OACI,gBAAC,GAAD,CAAWD,SAAUA,EAArB,UACI,sBAAK7C,UAAU,UAAf,sBAGA,uBAAKA,UAAU,WAAf,UACI,eAAChB,GAAD,UACI,eAAC,GAAD,CACIkD,MAAM,QACNT,MAAOkB,EAAOnG,MACdlD,MAAOsJ,EAAOpG,MACd2F,QAASA,EAAQ3F,MACjBhJ,KAAK,QACLkO,SAAUA,EACVE,OAAQA,MAGhB,eAAC5C,GAAD,UACI,eAAC,GAAD,CACIkD,MAAM,WACNT,MAAOkB,EAAOjG,SACdpD,MAAOsJ,EAAOlG,SACdyF,QAASA,EAAQzF,SACjBlJ,KAAK,WACLkO,SAAUA,EACVE,OAAQA,EACRJ,KAAK,eAGb,eAACxC,GAAD,UACI,eAAC,GAAD,CACIkD,MAAM,mBACNT,MAAOkB,EAAO/F,gBACdtD,MAAOsJ,EAAOhG,gBACduF,QAASA,EAAQvF,gBACjBpJ,KAAK,kBACLkO,SAAUA,EACVE,OAAQA,EACRJ,KAAK,kBAIjB,sBAAKxB,UAAU,WAAf,SACI,eAACnB,GAAD,CAAoB2D,QAAQ,YAAY1D,SAAUgE,EAActB,KAAK,SAArE,4BAMV/B,GAAYlF,YAAO6F,KAAO2C,KAAdxI,CAAH,kcAIY,SAAAqE,GAAC,OAAIA,EAAElE,MAAMC,OAAOQ,UClElC8H,GAAiB,WAC1B,OACI,eAAC,GAAD,CAAWjD,UAAU,aAArB,SACI,eAAC,gBAAD,CAAc+B,MAAM,eAK1BtC,GAAYlF,IAAOC,IAAV,qLCTF0I,GAAkB,SAAC,GAOzB,IAAD,IANFvC,oBAME,MANa,CACXwC,MAAO,GACPC,UAAW,IAIb,MAFF5C,iBAEE,MAFU,GAEV,MADFQ,wBACE,MADiB,aACjB,EACF,OACI,gBAAC,GAAD,aACOL,EAAawC,MAAME,QAAU,oBAAGrD,UAAU,UAAb,8BAC7BW,EAAawC,MAAME,QAAU1C,EAAawC,MAAMjJ,KAAI,SAAA3E,GACnD,OACI,uBAAoByK,UAAU,8BAA9B,UACI,sBAAKA,UAAU,QAAf,SACI,sBAAKC,IAAK1K,EAAK2H,SAAUgD,IAAK3K,EAAK8E,SAEvC,uBAAK2F,UAAU,OAAf,UACI,oBAAGA,UAAU,OAAb,SAAqBzK,EAAK/B,OAC1B,oBAAGwM,UAAU,SAAb,SAAuBzK,EAAK4H,cAN1B5H,EAAK+N,QAWvB,sBAAKtD,UAAU,2BAA2BsB,QAASN,EAAnD,SACOL,EAAawC,MAAME,QAAY1C,EAAayC,UAAUC,OAAxD,wDAAyF7C,GAAzF,mEAA0IA,SAMrJf,GAAYlF,IAAOC,IAAV,wqBACS,SAAAoE,GAAC,OAAIA,EAAElE,MAAMC,OAAOE,aAcZ,SAAA+D,GAAC,OAAIA,EAAElE,MAAMC,OAAOC,QAIhB,SAAAgE,GAAC,OAAIA,EAAElE,MAAMC,OAAOY,SC9C3CgI,GAAoB,SAAC,GAI3B,IAAD,IAHFpQ,YAGE,MAHK,KAGL,MAFFqQ,sBAEE,MAFe,aAEf,MADFC,qBACE,MADc,aACd,EACIC,EAAclE,YAAYpJ,GAC1BuN,EAAcD,EAAY5O,SAC1BC,EAAc2O,EAAY3O,aAAe,GACzC6O,EAAYD,EAAYrO,MAAK,SAAAD,GAAI,OAAIA,EAAKG,WAAarC,EAAKqC,YAC5DR,EAAY7B,EAAKqC,WAAaT,EAAYS,SACxCgI,EAAUI,KAAVJ,MAER,OACI,eAAC,GAAD,UACKA,GAAS,IACN,uBAAKwC,UAAU,QAAQZ,MAAOjM,EAAKK,KAAnC,UACI,sBAAKyM,IAAK9M,EAAK8J,MAAOiD,IAAK/M,EAAKK,OAChC,uBAAKwM,UAAU,sBAAf,UACI,yBAAQA,UAAU,UAAUsB,QAASkC,EAArC,SACI,2BAAUhQ,KAAMwB,EAAY,uBAAyB,2BAEvD4O,GACE,yBAAQ5D,UAAU,SAASsB,QAASmC,EAApC,SACI,2BAAUjQ,KAAK,uBAM/B,uBAAKwM,UAAU,gBAAf,UACI,sBAAKA,UAAU,QAAQsB,QAASkC,EAAhC,SACI,sBAAKvD,IAAK9M,EAAK8J,MAAOiD,IAAK/M,EAAKK,SAEpC,uBAAKwM,UAAU,OAAOsB,QAASkC,EAA/B,UACI,qBAAIxD,UAAU,WAAd,SAA0B7M,EAAKK,OAC/B,oBAAGwM,UAAU,SAAb,SAAuB7M,EAAKgK,YAEhC,sBAAK6C,UAAU,iBAAf,UACM4D,GACE,yBAAQ5D,UAAU,SAASsB,QAASmC,EAApC,SACI,2BAAUjQ,KAAK,yBAUzCiM,GAAYlF,IAAOC,IAAV,ysCAqCoB,SAAAoE,GAAC,OAAIA,EAAElE,MAAMC,OAAOQ,UCzF1C0I,GAAuB,SAAC,GAE9B,IAAD,IADF1Q,YACE,MADK,KACL,EACF,OACI,eAAC,GAAD,CACI2Q,WAAY,CACRC,MAAO,IACPpE,EAAG,GACHE,WAAY,CACRC,SAAU,GACV0B,KAAM,WANlB,SAUI,gBAAC,IAAD,CAASzB,GAAI5M,EAAKkM,KAAM2E,gBAAgB,YAAYhE,UAAU,kBAAkBiE,OAAK,EAArF,UACI,uBAAMjE,UAAU,OAAhB,SACI,2BAAUxM,KAAML,EAAKgM,aAEzB,oBAAGa,UAAU,OAAb,SACK7M,EAAKiM,cAOpBK,GAAYlF,YAAO6F,KAAO5F,IAAdD,CAAH,8LC9BF2J,GAAa,a,SCYbC,GAAe,WACxB,MAAkCtG,mBAAS,IAA3C,mBAAO2C,EAAP,KAAkB4D,EAAlB,KACA,EAAsCvG,oBAAS,GAA/C,mBAAO4C,EAAP,KAAoB4D,EAApB,KACA,EAA4BxG,oBAAS,GAArC,mBAAOyC,EAAP,KAAegE,EAAf,KACA,EAAwCzG,mBAAS,CAC7CsF,MAAO,GACPC,UAAW,KAFf,mBAAOzC,EAAP,KAAqB4D,EAArB,KAIA,EAA0D1G,oBAAS,GAAnE,mBAAO+C,EAAP,KAA8B4D,EAA9B,KACA,EAAoC3G,oBAAS,GAA7C,mBAAO4G,EAAP,KAAmBC,EAAnB,KACA,EAAkC7G,oBAAS,GAA3C,mBAAOkD,EAAP,KAAkB4D,EAAlB,KACMtO,EAAUuO,cACVpL,EAAWqL,cAEXC,EAAqB,WACnBvH,OAAOwH,QAAU,GACjBT,GAAU,GAEVA,GAAU,IAIlBtG,qBAAU,WAGN,OAFAgH,SAAS9G,iBAAiB,SAAU4G,GAE7B,WACHE,SAAS7G,oBAAoB,SAAU2G,MAE5C,IAEH,IAAMG,EAAY,uCAAG,4BAAAlS,EAAA,6DACjBsR,GAAe,GADE,kBAGKxK,GAAqB,CACnCqL,EAAG1E,IAJM,OAGPtN,EAHO,OAMbqR,GAAgB,SAACY,GACb,OAAO,6BACAA,GADP,IAEIhC,MAAOjQ,EAAIC,KAAKA,UATX,gDAaR,KAAIkG,UACL3D,IAAM4D,MAAM,+BAdH,yBAiBb+K,GAAe,GACfK,GAAc,GAlBD,4EAAH,qDAsBlB1G,qBAAU,WACFyG,EACAW,IAEAC,MAGL,CAACZ,ICrEmB,SAACa,EAAUC,EAAOC,GAEzC,IAAMC,EAAYC,sBAAYJ,EAAUE,GAExCxH,qBAAU,WACN,IAAM2H,EAAUnH,YAAW,WACvBiH,MACDF,GAEH,OAAO,WACHK,aAAaD,MAElB,CAACF,EAAWF,ID2DfM,EAAY,WACRtB,EAAgB,CACZpB,MAAO,GACPC,UAAW,KAEX5C,EAAUsF,OACVb,IACOR,GACPC,GAAc,KAEnB,IAAK,CAAClE,IAET,IAQM4E,EAA4B,WAC9BT,GAAa,GACRF,GACLD,GAAyB,IAGvBa,EAA2B,uCAAG,sBAAAtS,EAAA,sEAC1BqL,GAAM,KADoB,OAEhCuG,GAAa,GACbH,GAAyB,GAHO,2CAAH,qDAM3BuB,EAA6B,WAC/B1P,EAAQZ,KAAKuQ,GAAqB,IAAMxF,IAkB5C,OACI,qCACI,eAAC,GAAD,CACIF,OAAQA,EACRC,aA3CY,WACpB/G,EAASxC,MA2CDwJ,UAAWA,EACXC,YAAaA,EACbC,kBA1CkB,SAACuF,GAC3B7B,EAAa6B,EAAMC,OAAOzE,QA0ClBd,aAAcA,EACdC,sBAAuBA,EACvBC,sBAAuBuE,EACvBtE,wBAAyBuE,EACzBtE,UAAWA,EACXC,iBAAkB+E,EAClB9E,aA7Ba,SAACgF,GE7GL,UF8GbA,EAAMvO,MACNqO,IACAV,MA2BInE,cAvBc,WACtB1H,EAAS1F,KACUyJ,OAAO4I,SAASC,WAAa/E,IAE5ChL,EAAQZ,KAAK6J,U,SG/GZ+G,GAAc,SAAC,GAAkC,IAAD,IAA/BC,qBAA+B,MAAf,aAAe,EACnD9M,EAAWqL,cAKjB,OACI,eAAC,KAAD,CACI0B,cANmB,CACvB/J,MAAO,2BACPE,SAAU,WAKNmG,SAAQ,uCAAE,WAAOF,EAAP,sBAAA5P,EAAA,6DAAiByT,EAAjB,EAAiBA,cAAjB,kBAEgBhN,EAAS5G,EAAM+P,IAF/B,OAEIzP,EAFJ,OAGFuT,uBAAavT,GACTA,GACAoT,IALF,gDAQFE,GAAc,GACVE,EAAe,GAEfA,EADwB,MAAxB,KAAIrN,SAASE,OACE,sDAEA,qCAEnB7D,IAAM4D,MAAMoN,GAfV,yDAAF,wDAkBRC,iBAAkBtK,GApBtB,SAsBK,SAACuK,GACE,IAAQjE,EAAkFiE,EAAlFjE,OAAQC,EAA0EgE,EAA1EhE,OAAQT,EAAkEyE,EAAlEzE,QAAS0E,EAAyDD,EAAzDC,aAAcC,EAA2CF,EAA3CE,WAAYC,EAA+BH,EAA/BG,aAAcjE,EAAiB8D,EAAjB9D,aACzE,OACI,eAAC,GAAD,CACIH,OAAQA,EACRC,OAAQA,EACRT,QAASA,EACTT,SAAUmF,EACVjF,OAAQkF,EACRjE,SAAUkE,EACVjE,aAAcA,Q,iCCvCzBkE,GAAiB,SAAC,GAAkC,IAAD,IAA/BV,qBAA+B,MAAf,aAAe,EACtD9M,EAAWqL,cAMjB,OACI,eAAC,KAAD,CACI0B,cAPc,CAClB/J,MAAO,GACPE,SAAU,GACVE,gBAAiB,IAKbiG,SAAQ,uCAAE,WAAOF,EAAP,wBAAA5P,EAAA,6DAAiByT,EAAjB,EAAiBA,cAAjB,SAEmC7D,EAA7B/F,gBAAoB9J,EAF1B,aAEmC6P,EAFnC,aAGgBnJ,EAASpG,EAASN,IAHlC,OAGII,EAHJ,OAIFuT,uBAAavT,GACTA,GACAoT,IANF,kDASFE,GAAc,GACVE,EAAe,GAEfA,EADwB,MAAxB,KAAIrN,SAASE,OACE,6DAEA,iCAEnB7D,IAAM4D,MAAMoN,GAhBV,0DAAF,wDAmBRC,iBAAkBhK,GArBtB,SAuBK,SAACiK,GACE,IAAQjE,EAAkFiE,EAAlFjE,OAAQC,EAA0EgE,EAA1EhE,OAAQT,EAAkEyE,EAAlEzE,QAAS0E,EAAyDD,EAAzDC,aAAcC,EAA2CF,EAA3CE,WAAYC,EAA+BH,EAA/BG,aAAcjE,EAAiB8D,EAAjB9D,aACzE,OACI,eAAC,GAAD,CACIH,OAAQA,EACRC,OAAQA,EACRT,QAASA,EACTT,SAAUmF,EACVjF,OAAQkF,EACRjE,SAAUkE,EACVjE,aAAcA,QChDzBmE,GAAe,WACxB,OACI,eAAC,GAAD,KCAKC,GAA6B,SAAC,GAKpC,IAJHxP,EAIE,EAJFA,IACAvE,EAGE,EAHFA,KACAgU,EAEE,EAFFA,YAEE,IADFhN,aACE,MADM,GACN,EACF,EAAgC0D,mBAAS,MAAzC,mBAAOuJ,EAAP,KAAiBC,EAAjB,KAMMC,EAAOC,QAAQH,GACfI,EAAKF,EAAOnN,EAAMsN,gBAAaC,EACrC,OACI,eAAC,GAAD,CAEIvU,KAAMA,EACNgU,YAAaA,EACbQ,WAXe,SAAC1B,GACpBoB,EAAYD,EAAW,KAAOnB,EAAM2B,gBAWhCzN,MAAOqN,EACPJ,SAAUA,EACVE,KAAMA,GAND5P,ICbJmQ,GAAgB,SAAC,GAEvB,IADH1U,EACE,EADFA,KAEMqG,EAAWqL,cACX/P,EAAW0K,YAAYpJ,GAAgBtB,SAgB7C,OACI,eAAC,GAAD,CACIgT,eAjBe,WACnB,IAAM/K,EAAWD,GAAgB3J,GACf2B,EAASQ,MAAK,SAAAD,GAAI,OAAIA,EAAKG,WAAauH,EAASvH,YAE/DE,IAAMqS,QAAQ,8DAEdvO,EAASrE,EAAe,CAAC4H,MAYzB4K,WARW,WACfK,QAAQC,IAAI9U,OCbP+U,GAAsB,SAAC,GAAkC,IAAD,IAA/B5B,qBAA+B,MAAf,aAAe,EACjE,EAAwBzI,mBAASqG,IAAjC,mBAAOnB,EAAP,KAAaoF,EAAb,KACM3O,EAAWqL,cACXjR,EAAY4L,YAAY9K,GAAcd,UACtCwU,EAAmB,WAEjBD,EADApF,IAASmB,GTdQ,gBSiBTA,KAQhB,OAJAlG,qBAAU,WACNxE,EAASxD,OAEV,IAEC,gBAAC,GAAD,CAAWgK,UAAU,aAArB,UACI,sBAAKA,UAAU,UAAUsB,QAASgF,IAClC,gBAAClG,GAAA,EAAO5F,IAAR,CACIwF,UAAU,cACVN,QAAS,CACLC,EAAG,KAEPC,QAAS,CACLD,EAAG,GANX,UASI,yBAAQK,UAAU,cAAcsB,QAASgF,EAAzC,kBACCvD,IAASmB,GACN,uCACI,eAAC,GAAD,CAAaoC,cAAeA,IAC5B,qBAAGtG,UAAU,SAAb,yDAA6C,uBAAMsB,QAAS8G,EAAf,wCAGjD,uCACI,eAAC,GAAD,CAAgB9B,cAAeA,IACnC,qBAAGtG,UAAU,SAAb,0DAA2C,uBAAMsB,QAAS8G,EAAf,+CAIlDxU,GAAa,eAAC,GAAD,QAKpB6L,GAAYlF,IAAOC,IAAV,y8BAqBa,SAAAoE,GAAC,OAAIA,EAAElE,MAAMC,OAAOC,QAwBvB,SAAAgE,GAAC,OAAIA,EAAElE,MAAMC,OAAOI,UC/FhCsN,GAAkB,WAC3B,IAAMC,EAAa,CACf,CACInJ,SAAU,OACVC,MAAO,OACPC,KAAMC,IAEV,CACIH,SAAU,WACVC,MAAO,YACPC,KAAMC,IAEV,CACIH,SAAU,SACVC,MAAO,YACPC,KAAMC,IAEV,CACIH,SAAU,eACVC,MAAO,SACPC,KAAMC,KAGd,OACI,eAAC,GAAD,CAAWU,UAAU,aAArB,SACKsI,EAAWpO,KAAI,SAAC3E,EAAM4E,GACnB,OACI,gBAACoO,GAAD,CAAkBxI,GAAIxK,EAAK8J,KAAM2E,gBAAgB,SAASC,OAAK,EAA/D,UACI,2BAAUzQ,KAAM+B,EAAK4J,WACrB,uBAAMa,UAAU,OAAhB,SAAwBzK,EAAK6J,UAFtBjF,SAUzBsF,GAAYlF,IAAOC,IAAV,oKAMS,SAAAoE,GAAC,OAAIA,EAAElE,MAAMC,OAAOC,OAEtCuB,GARS,4DAaToM,GAAOhO,YAAOiO,IAAPjO,CAAH,qP,UC9CGkO,GAAuB,SAAC,GAO9B,IAAD,IANFtV,YAME,MANK,GAML,MALFgU,mBAKE,MALY,aAKZ,MAJFQ,kBAIE,MAJW,aAIX,MAHFP,gBAGE,MAHS,KAGT,MAFFI,UAEE,MAFG,GAEH,MADFF,YACE,SACIvS,EAAcyK,YAAYpJ,GAAgBrB,aAAe,GACzDC,EAAY7B,EAAK6J,UAAYjI,EAAYS,SACzCoK,EAAU,CACZmE,MAAO,KAEX,OACI,eAAC2E,GAAD,UACI,eAAC,IAAD,UACI,gBAAC,IAAD,WACI,eAAC,IAAD,CACIC,YAAa,EACbC,WAAY,EACZ9G,KAAM,GAHV,SAKI,uBAAK3B,MAAO,CAAC0I,QAAS,QAAtB,UACI,sBAAK7I,UAAU,QAAf,SACI,sBAAKC,IAAK9M,EAAK+J,SAAUgD,IAAK/M,EAAKK,SAEvC,uBAAKwM,UAAU,OAAf,UACI,qBAAIA,UAAU,WAAd,SAA0B7M,EAAKK,OAC/B,qBAAGwM,UAAU,SAAb,yBAA8B7M,EAAKgK,UACnC,qBAAG6C,UAAU,SAAb,6BAAiC7M,EAAK2V,UACtC,uBAAK9I,UAAU,kCAAf,UACI,eAACI,GAAA,EAAO2I,KAAR,CACI/I,UAAU,gBACVsB,QAAS6F,EACTrD,WAAYlE,EAHhB,SAKI,2BAAUpM,KAAMwB,EAAY,uBAAyB,0BAEzD,gBAACoL,GAAA,EAAO2I,KAAR,CACI/I,UAAU,eACVsB,QAASqG,EACT7D,WAAYlE,EAHhB,UAKI,2BAAU4H,GAAIA,EAAGC,WAAYjU,KAAK,uBAClC,eAACwV,GAAA,EAAD,CACIxB,GAAIA,EAAGC,WACPH,KAAMA,EACNF,SAAUA,EACVvH,YAAY,EAJhB,SAMI,eAAC,GAAD,CAAe1M,KAAMA,SAG7B,eAACiN,GAAA,EAAO2I,KAAR,CACI/I,UAAU,iBACV8D,WAAYlE,EAFhB,SAII,2BAAUpM,KAAK,+BAMnC,eAAC,IAAD,CACImV,YAAa,EACbC,WAAY,EACZ9G,KAAM,EAHV,SAKI,uBAAK9B,UAAU,eAAf,UACI,eAACI,GAAA,EAAO2I,KAAR,CACI/I,UAAU,gBACVsB,QAAS6F,EACTrD,WAAYlE,EAHhB,SAKI,2BAAUpM,KAAMwB,EAAY,uBAAyB,0BAEzD,gBAACoL,GAAA,EAAO2I,KAAR,CACI/I,UAAU,eACVsB,QAASqG,EACT7D,WAAYlE,EAHhB,UAKI,2BAAU4H,GAAIA,EAAGC,WAAYjU,KAAK,uBAClC,eAACwV,GAAA,EAAD,CACIxB,GAAIA,EAAGC,WACPH,KAAMA,EACNF,SAAUA,EACVvH,YAAY,EAJhB,SAMI,eAAC,GAAD,CAAe1M,KAAMA,SAG7B,eAACiN,GAAA,EAAO2I,KAAR,CACI/I,UAAU,iBACV8D,WAAYlE,EAFhB,SAII,2BAAUpM,KAAK,yBAI3B,eAAC,IAAD,CACImV,YAAa,EACbC,WAAY,EACZ9G,KAAM,EAHV,SAKI,uBAAK9B,UAAU,qBAAf,UACK7M,EAAK8V,eAAe5F,OADzB,oCAUlBqF,GAAgBnO,IAAOC,IAAV,4wBAyCT2B,GAzCS,qECzHN+M,GAAmB,SAAC,GAG1B,IAAD,IAFFpB,sBAEE,MAFe,aAEf,MADFH,kBACE,MADW,aACX,EACF,OACI,gBAAC,GAAD,WACI,oBAAG3H,UAAU,OAAOsB,QAASwG,EAA7B,iDACA,oBAAG9H,UAAU,OAAOsB,QAASqG,EAA7B,yCAKNlI,GAAYlF,IAAOC,IAAV,yZACS,SAAAoE,GAAC,OAAIA,EAAElE,MAAMC,OAAOE,YAYlCsB,GAbK,kGAmBiB,SAAAyC,GAAC,OAAIA,EAAElE,MAAMC,OAAOC,QChCvCuO,GAAkB,SAAC,GAGzB,IAAD,IAFF3L,aAEE,MAFM,GAEN,MADFwE,iBACE,MADU,KACV,EACF,OACI,eAAC,GAAD,CAAWxE,MAAOA,EAAOwE,UAAWA,EAApC,SACKA,EACG,+BAEA,sBAAKhC,UAAU,cAAf,SACI,2BAAUxM,KAAK,uBAO7BiM,GAAYlF,IAAOC,IAAV,0bACF,SAAAoE,GAAC,OAAIA,EAAEpB,MAAQ,QACd,SAAAoB,GAAC,OAAIA,EAAEpB,MAAQ,QAED,SAAAoB,GAAC,OAAIA,EAAEoD,UAAYpD,EAAEoD,UAAY,MAI/C,SAAApD,GAAC,OAAIA,EAAEoD,UAAF,oBAA2BpD,EAAElE,MAAMC,OAAOM,QAAW,WAU/C,SAAA2D,GAAC,OAAIA,EAAEpB,MAAQ,QC5BlC4L,GAAU,MACVC,GAAc,UCJP/J,GAAY,IACZ0G,GAAqB,UACrB3E,GAAuB,WAEvBiI,GAAS,CAClB,CAAEC,KAAMjK,GAAWkK,UDCH,WAChB,MAA0B3L,mBAAS,IAAnC,mBAAOsF,EAAP,KAAcsG,EAAd,KACMjQ,EAAWqL,cACX6E,EAAelK,YAAY3I,GAAiBP,SAE5CqT,EAAU,uCAAG,8BAAA5W,EAAA,+EAEO8G,GAAqB,CAAE+P,KAAK,IAFnC,OAEL1W,EAFK,OAGL2W,EAAW3W,EAAIC,KAAKA,KAAK2W,OAAOlT,MAAM,EAAG,GAAGsD,KAAI,SAAA7E,GAAI,OAAIyH,GAAgBzH,MAC9EoU,EAASI,GAJE,gDAMX7B,QAAQC,IAAI,KAAI5O,UANL,yDAAH,qDAUhB2E,qBAAU,WACN2L,MACD,IAEH3L,qBAAU,WACNxE,EAASvD,OAEV,IAEH,IAAM8T,EAAkB,SAAC1U,GAA6B,IAAvB2U,EAAsB,uDAAhBX,GAC7BW,IAAQX,GACR7P,EAAS5D,EAAgB,CAACkH,GAAgBzH,MACnC2U,IAAQZ,IACf5P,EAASrE,EAAe,CAAC2H,GAAgBzH,MAE7CmE,EAAS3D,MAEb,OACI,gBAACyE,GAAD,WACI,uBAAK0F,UAAU,eAAf,UACI,qBAAIA,UAAU,UAAd,yDACA,eAAC,IAAD,UACKmD,EAAME,OAASF,EAAMjJ,KAAI,SAAA7E,GAGtB,OACI,eAAC,IAAD,CAEIyM,KAAM,GACN8G,WAAY,EACZD,YAAa,EAJjB,SAMI,eAAC,GAAD,CACIxV,KAAMkC,EACNmO,eAXW,kBAAMuG,EAAgB1U,IAYjCoO,cAXU,kBAAMsG,EAAgB1U,EAAM+T,QAGrC,GAAK/T,EAAKqC,IAAMuS,KAAKC,UAYjC,oCAGb,uBAAKlK,UAAU,eAAf,UACI,qBAAIA,UAAU,UAAd,uCACA,oBAAGA,UAAU,UAAb,SAAgD,IAAxB0J,EAAarG,OAAe,sCAAyB,KAC7E,eAAC,IAAD,UACKqG,EAAarG,OAASqG,EAAaxP,KAAI,SAAA7E,GAGpC,OACI,eAAC,IAAD,CAEIyM,KAAM,GACN8G,WAAY,EACZD,YAAa,EAJjB,SAMI,eAAC,GAAD,CACIxV,KAAMkC,EACNmO,eAXW,kBAAMuG,EAAgB1U,IAYjCoO,cAXU,kBAAMsG,EAAgB1U,EAAM+T,QAGrC,GAAK/T,EAAKqC,IAAMuS,KAAKC,UAYjC,yCC9ErB,CAAEX,KAAMvD,GAAqB,cAAewD,UCFpB,WACxB,IAAQhJ,EAAc2J,cAAd3J,UACR,EAAsC3C,mBAAS,IAA/C,mBAAOuM,EAAP,KAAoBC,EAApB,KACM7Q,EAAWqL,cACX8E,EAAU,uCAAG,4BAAA5W,EAAA,+EAEO8G,GAAqB,CACnCqL,EAAG1E,EACHoJ,KAAK,IAJE,OAEL1W,EAFK,OAMXmX,EAAenX,EAAIC,KAAKA,MANb,gDAQX6U,QAAQC,IAAR,MARW,yDAAH,qDAehB,OAJAjK,qBAAU,WACN2L,MAED,CAACnJ,IAEA,eAAC/F,GAAD,UACI,uBAAKuF,UAAU,QAAf,UACI,oBAAGA,UAAU,UAAb,4BACCoK,EAAYlQ,KAAI,SAACoQ,EAAQnQ,GAMtB,OACI,eAAC,GAAD,CAEIhH,KAAMmX,EACNnD,YATgB,WACpB,IAAM9S,EAAUyI,GAAgBwN,GAChC9Q,EAAS5D,EAAgB,CAACvB,KAC1BmF,EAAS3D,MAOLsE,MAAOA,GAHFmQ,EAAOhH,eD5BpC,CAAEiG,KAAMlI,GAAsBmI,UEHJ,WAC1B,IAAM7V,EAAW6L,YAAY9K,GAAcf,SAC3C,EAAoCkK,mBAAS,CACzC0M,SAAU5W,EAAS4W,SACnBC,OAAQ,OAFZ,mBAAO7Q,EAAP,KAAmB8Q,EAAnB,KAIA,EAAkC5M,oBAAS,GAA3C,mBAAOjK,EAAP,KAAkB8W,EAAlB,KACA,EAAsC7M,oBAAS,GAA/C,mBAAO8M,EAAP,KAAoBC,EAApB,KACMC,EAAiBC,iBAAO,MACxBtR,EAAWqL,cACjB7G,qBAAU,WACNxE,EAASnG,OAEV,IAgBH2K,qBAAU,YACDrE,EAAW4Q,SAASzE,SAAWnM,EAAW6Q,QAAU7Q,EAAW4Q,SAASzE,OAAOzC,OAAS,GACzFuH,GAAe,GAEfA,GAAe,KAEpB,CAACjR,IAEJ,IAAMoR,EAAY,uCAAG,4BAAAhY,EAAA,sEAEb2X,GAAa,GACbE,GAAe,IACTI,EAAW,IAAIC,UACZC,OAAO,WAAYvR,EAAW4Q,UACvCS,EAASE,OAAO,SAAUvR,EAAW6Q,QANxB,SAOPvX,GAAQ0G,WAAWqR,GAPZ,OAQbtV,IAAMC,QAAQ,wCACd6D,EAASnG,KATI,kDAWb2U,QAAQC,IAAR,MACAvS,IAAM4D,MAAM,iDAZC,yBAcboR,GAAa,GAdA,6EAAH,qDAkBlB,OACI,gBAACjM,GAAD,WACI,uBAAKuB,UAAU,cAAf,UACI,uBAAKA,UAAU,cAAf,UACI,qBAAIA,UAAU,UAAd,6CACA,uBAAKA,UAAU,qBAAf,UACI,eAAC,GAAD,CAAiBgC,UAAWrO,EAASqO,UAAWxE,MAAO,MACvD,uBAAKwC,UAAU,WAAf,UACI,qBAAGA,UAAU,WAAb,uBAAkC,wBAC9B,uBAAMA,UAAU,QAAhB,SAAyBrM,EAAS4W,cAEtC,qBAAGvK,UAAU,QAAb,oBAA4B,wBACxB,uBAAMA,UAAU,QAAhB,SAAyBrM,EAAS6I,WAEtC,qBAAGwD,UAAU,YAAb,wBAAqCrM,EAASwX,sBAI1D,uBAAKnL,UAAU,SAAf,UACI,qBAAIA,UAAU,UAAd,gEACA,uBAAKA,UAAU,aAAf,UACI,sBAAKA,UAAU,aAAf,SACI,eAACqC,GAAA,EAAD,CACIH,MAAM,WACNM,QAAQ,WACRf,MAAO9H,EAAW4Q,SAClB7I,SAlEC,SAACuE,GAC1BwE,EAAc,6BACP9Q,GADM,IAET4Q,SAAUtE,EAAMC,OAAOzE,UAgEHa,WAAS,MAGjB,uBAAKtC,UAAU,oBAAf,UACI,wBAAOA,UAAU,cAAcoL,QAAQ,cAAvC,qBAAoE,wBACpE,wBAAOC,IAAKR,EAAgBrD,GAAG,cAAchG,KAAK,OAAO8J,OAAO,UAAU5J,SAjEvE,SAACuE,GACxBwE,EAAc,6BACP9Q,GADM,IAET6Q,OAAQvE,EAAMC,OAAOqF,MAAM,eAiEnB,eAAC1M,GAAD,CAAoBC,UAAW6L,EAAarJ,QAASyJ,EAArD,sCAKPnX,EAAY,eAAC,GAAD,IAAqB,qCC1FjC4X,GAAS,WAClB,OACI,eAAC,IAAD,UACI,eAAC,IAAD,UACI,eAAC,IAAD,UACI,gBAAC,IAAD,CAAKC,WAAS,EAAd,UACI,eAAC,IAAD,CACI9C,YAAa,EACbC,WAAY,EACZ9G,KAAM,EAHV,SAKI,eAAC,GAAD,MAEJ,eAAC,IAAD,CACI6G,YAAa,GACbC,WAAY,EACZ9G,KAAM,GAHV,SAMI,uBAAK9B,UAAU,OAAOG,MAAO,CAAEuL,cAAe,QAA9C,UACI,eAAC3M,GAAD,IACA,eAAC,GAAD,IACA,eAAC,IAAD,UACKuK,GAAOpP,KAAI,SAACyR,EAAOxR,GAAR,OAAkB,eAAC,IAAD,CAAmBoP,KAAMoC,EAAMpC,KAAMC,UAAWmC,EAAMnC,UAAWvF,OAAK,GAA1D9J,QAE9C,eAAC,GAAD,mBCzBnByR,GAAM,WACf,IAAMlI,EAAclE,YAAYpJ,GAC1BuN,EAAcD,EAAY5O,SAC1BE,EAAY0O,EAAY1O,UACxBE,EAAkBwO,EAAYxO,gBAC9BvB,EAAW6L,YAAY9K,GAAcf,SACrCoD,EAAkByI,YAAYtI,GAAmBH,gBACjD8U,EAAWf,iBAAO,MAClBtR,EAAWqL,cACXiH,EAAYhB,iBAAO,MAmDzB,OAPA9M,qBAAU,WACN,IAAM+N,EAAaxO,OAAO4I,SAASC,WAAa/E,IAC3C1N,GAAYoY,GACbxO,OAAO4I,SAAS6F,OAAO1M,MAE5B,CAAC3L,IAGA,uBAAKqM,UAAU,MAAf,UACI,eAAC,GAAD,IACA,eAAC,IAAD,CACIiM,SAAS,YACTC,UAAW,IACXC,iBAAiB,EACjBC,aAAa,EACbC,cAAY,EACZC,KAAK,EACLC,WAAS,IAEb,eAAC,IAAD,CACIC,aAAW,EACXC,gBAAiB,CAAEC,MAAO,IAAKC,IAAK,KACpCC,WAAYjJ,EACZkJ,cAAc,EACdC,SAAO,EACPC,KAAK,OACLC,SAAUhY,EACViY,iBArEQ,SAAC5B,GACjBQ,EAASqB,QAAU7B,GAqEX8B,sBAAoB,EACpBC,iBAAiB,EACjB1S,MAAO,OACP2S,mBArEiB,SAACC,EAAeV,EAAYW,GACrD/T,EAAS5D,EAAgBgX,KAqEjBY,YAlEY,SAACD,GAChBzB,EAAUoB,UACXrB,EAASqB,QAAQO,OAAS,IAC1B3B,EAAUoB,QAAUrB,EAASqB,QAAQO,QAEzC,IAAM1Q,EAAWD,GAAgByQ,GACjC/T,EAASjD,EAAcwG,IACvBvD,EAASrD,EAAkB4G,IAC3BvD,EAAS3D,MA2DD6X,gBAxDgB,SAACH,GACR,IAAMA,EAAUzN,SAAWyN,EAAUI,aACtC,KACKzY,EAAgBI,MAAK,SAAA+E,GAAI,OAAIA,IAASkT,EAAU7V,QAE7DmC,GAAsB0T,EAAU7V,KAC/BkW,KAAK5F,QAAQC,KACb4F,MAAM7F,QAAQC,KACd6F,SAAQ,WACLtU,EAAStD,EAAcqX,EAAU7V,WAgDrCqW,aA1Ca,WACrBvU,EAAS1D,QA2CJiB,GACG,eAAC,GAAD,CACIuP,cA1CU,WACtB9M,EAASvC,aCrDF+W,I,cAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBN,MAAK,YAAkD,IAA/CO,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,QCMdO,IAASC,OACP,eAAC,IAAMC,WAAP,UACE,eAAC,IAAD,CAAehU,MAAOA,GAAtB,SACE,eAAC,IAAD,CAAaiU,QAAS,KAAMvW,UAAWA,GAAvC,SACE,eAAC,IAAD,CAAUL,MAAOA,GAAjB,SACE,eAAC,GAAD,YAKRiN,SAAS4J,eAAe,SAM1BZ,O","file":"static/js/main.ca5d3b09.chunk.js","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport { authApi } from \"src/Api\";\r\n\r\nexport const login = createAsyncThunk(\"auth/login\", async (body, { rejectWithValue }) => {\r\n    try {\r\n        const res = await authApi.login(body);\r\n        return res.data;\r\n    } catch (err) {\r\n        return rejectWithValue(err);\r\n    }\r\n});\r\n\r\nexport const register = createAsyncThunk(\"auth/register\", async (body, { rejectWithValue }) => {\r\n    try {\r\n        const res = await authApi.register(body);\r\n        return res.data;\r\n    } catch (err) {\r\n        return rejectWithValue(err);\r\n    }\r\n});\r\n\r\nexport const getInfo = createAsyncThunk(\"auth/getInfo\", async (body, { rejectWithValue }) => {\r\n    try {\r\n        const res = await authApi.getInfo();\r\n        return res.data;\r\n    } catch (err) {\r\n        return rejectWithValue(err);\r\n    }\r\n});\r\n\r\nconst initialState = {\r\n    accessToken: null,\r\n    userInfo: null,\r\n    isLoading: false\r\n};\r\n\r\nconst auth = createSlice({\r\n    name: \"auth\",\r\n    initialState,\r\n    reducers: {\r\n        logout(state) {\r\n            state.accessToken = null;\r\n            state.userInfo = null;\r\n            state.isLoading = false;\r\n        }\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder.addCase(login.fulfilled, (state, action) => {\r\n            const { data, meta } = action.payload;\r\n            state.userInfo = data;\r\n            state.accessToken = meta.token;\r\n            state.isLoading = false;\r\n        })\r\n\r\n        builder.addCase(login.pending, (state) => {\r\n            state.isLoading = true;\r\n        });\r\n\r\n        builder.addCase(login.rejected, (state) => {\r\n            state.accessToken = null;\r\n            state.userInfo = null;\r\n            state.isLoading = false;\r\n        });\r\n\r\n        builder.addCase(register.fulfilled, (state, action) => {\r\n            const { data, meta } = action.payload;\r\n            state.userInfo = data;\r\n            state.accessToken = meta.token;\r\n            state.isLoading = false;\r\n        })\r\n\r\n        builder.addCase(register.pending, (state) => {\r\n            state.isLoading = true;\r\n        });\r\n\r\n        builder.addCase(register.rejected, (state) => {\r\n            state.accessToken = null;\r\n            state.userInfo = null;\r\n            state.isLoading = false;\r\n        });\r\n\r\n        builder.addCase(getInfo.fulfilled, (state, action) => {\r\n            const { data } = action.payload;\r\n            state.userInfo = data;\r\n            state.isLoading = false;\r\n        })\r\n\r\n        builder.addCase(getInfo.pending, (state) => {\r\n            state.isLoading = true;\r\n        });\r\n    }\r\n});\r\n\r\nexport const authSelector = state => state.auth;\r\n\r\nexport const { logout } = auth.actions;\r\n\r\nexport default auth.reducer;","import { toast } from \"react-toastify\";\r\n\r\nconst { createSlice } = require(\"@reduxjs/toolkit\");\r\n\r\nconst initialState = {\r\n    playlist: [],\r\n    currentSong: null,\r\n    isPlaying: false,\r\n    isClosed: false,\r\n    listPlayedSongs: []\r\n}\r\n\r\nconst player = createSlice({\r\n    name: \"player\",\r\n    initialState,\r\n    reducers: {\r\n        concatPlaylist: (state, action) => {\r\n            const { payload } = action;\r\n            payload.forEach(song => {\r\n                const isExisted = state.playlist.some(item => item.musicSrc === song.musicSrc);\r\n                if (!isExisted) {\r\n                    state.playlist.push(song);\r\n                    toast.success(\"Đã thêm vào danh sách phát!\");\r\n                }\r\n            });\r\n        },\r\n        replacePlaylist: (state, action) => {\r\n            const { payload } = action;\r\n            state.playlist = payload;\r\n        },\r\n        play: (state) => {\r\n            state.isPlaying = true;\r\n        },\r\n        pause: (state) => {\r\n            state.isPlaying = false;\r\n        },\r\n        refreshPlaylist: (state) => {\r\n            state.playlist = [];\r\n        },\r\n        closePlayer: (state) => {\r\n            state.isClosed = true;\r\n        },\r\n        openPlayer: (state) => {\r\n            state.isClosed = false;\r\n        },\r\n        addPlayedSong: (state, action) => {\r\n            state.listPlayedSongs.push(action.payload);\r\n        },\r\n        updateCurrentSong: (state, action) => {\r\n            state.currentSong = action.payload;\r\n        }\r\n    }\r\n});\r\n\r\nexport const playerSelector = state => state.player;\r\n\r\nexport const {\r\n    concatPlaylist,\r\n    play,\r\n    pause,\r\n    replacePlaylist,\r\n    refreshPlaylist,\r\n    closePlayer,\r\n    openPlayer,\r\n    addPlayedSong,\r\n    updateCurrentSong\r\n} = player.actions;\r\n\r\nexport default player.reducer;","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    history: [],\r\n    recently: [],\r\n};\r\n\r\nconst history = createSlice({\r\n    name: \"history\",\r\n    initialState,\r\n    reducers: {\r\n        updateHistory: (state, action) => {\r\n            const songIndex = state.history.findIndex(song => action.payload.musicSrc === song.musicSrc);\r\n            if (songIndex === -1) {\r\n                state.history.unshift(action.payload);\r\n            } else {\r\n                state.history.splice(songIndex, 1);\r\n                state.history.unshift(action.payload);\r\n            }\r\n            state.recently = state.history.slice(0, 4);\r\n        }\r\n    }\r\n});\r\n\r\nexport const historySelector = state => state.history;\r\n\r\nexport const {\r\n    updateHistory\r\n} = history.actions;\r\n\r\nexport default history.reducer;","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    isShowFormLogin: false\r\n};\r\n\r\nconst formLogin = createSlice({\r\n    name: \"formLogin\",\r\n    initialState,\r\n    reducers: {\r\n        showFormLogin: (state) => {\r\n            state.isShowFormLogin = true;\r\n        },\r\n        hiddenFormLogin: (state) => {\r\n            state.isShowFormLogin = false;\r\n        }\r\n    }\r\n});\r\n\r\nexport const formLoginSelector = state => state.formLogin;\r\n\r\nexport const {\r\n    showFormLogin,\r\n    hiddenFormLogin,\r\n} = formLogin.actions;\r\n\r\nexport default formLogin.reducer;","import { combineReducers } from 'redux';\r\n\r\nimport authReducer from \"./auth\";\r\nimport playerReducer from \"./player\";\r\nimport historyReducer from \"./history\";\r\nimport formLoginReducer from \"./formLogin\";\r\n\r\nexport * from './auth';\r\nexport * from './player';\r\nexport * from './history';\r\nexport * from './formLogin';\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    player: playerReducer,\r\n    history: historyReducer,\r\n    formLogin: formLoginReducer,\r\n});\r\n\r\nexport default rootReducer;","import { configureStore } from '@reduxjs/toolkit';\r\nimport { persistStore, persistReducer } from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport rootReducer from './slices';\r\n\r\nconst persistConfig = {\r\n    key: 'root',\r\n    storage,\r\n    whitelist: [\"auth\", \"history\"]\r\n}\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\r\n\r\nconst store = configureStore({ \r\n    reducer: persistedReducer,\r\n    middleware: [thunk]\r\n});\r\n\r\nexport * from \"./slices\";\r\n\r\nexport const persistor = persistStore(store);\r\n\r\nexport default store;\r\n","import axios from \"axios\";\r\nimport store, { logout } from \"src/Redux\";\r\n\r\nconst queryString = require(\"query-string\");\r\n\r\nconst axiosClient = axios.create({\r\n    baseURL: \"https://media-player-be.herokuapp.com/\",\r\n\r\n    headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"X-Requested-With\": \"XMLHttpRequest\",\r\n    },\r\n\r\n    paramsSerializer: (params) => queryString.stringify(params),\r\n});\r\n\r\naxiosClient.interceptors.request.use((config) => {\r\n    const token = store.getState().auth.accessToken;\r\n    if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n\r\n    return config;\r\n});\r\n\r\naxiosClient.interceptors.response.use(\r\n    (response) => {\r\n        if (response && response.data) {\r\n            return response;\r\n        }\r\n        return response;\r\n    },\r\n\r\n    (error) => {\r\n        // Handle errors\r\n        if (error.response && error.response.status === 401) {\r\n            store.dispatch(logout());\r\n        }\r\n        throw error;\r\n    }\r\n);\r\n\r\nexport default axiosClient;","import axiosClient from \"./axiosClient\";\r\n\r\nexport const authApi = {\r\n    login(body) {\r\n        const url = \"/auth/login\";\r\n        return axiosClient.post(url, body);\r\n    },\r\n    register(body) {\r\n        const url = \"/auth/register\";\r\n        return axiosClient.post(url, body);\r\n    },\r\n    getInfo() {\r\n        const url = \"/me\";\r\n        return axiosClient.get(url);\r\n    },\r\n    updateInfo(body) {\r\n        const url = \"/auth\";\r\n        return axiosClient.patch(url, body);\r\n    }\r\n};","import axiosClient from \"./axiosClient\";\r\n\r\n\r\nexport const songApi = {\r\n    getListSongs: (query) => {\r\n        const queryParams = Object.keys(query).map((key, index) => {\r\n            if (index === 0) {\r\n                return `?${key}=${query[key]}`;\r\n            } else {\r\n                return `&${key}=${query[key]}`;\r\n            }\r\n        }).join(\"\");\r\n        const url = \"/songs\" + queryParams;\r\n        return axiosClient.get(url);\r\n    },\r\n    incrementView: (slug) => {\r\n        const url = \"/songs/\" + slug;\r\n        return axiosClient.post(url);\r\n    }\r\n};","import styled from \"styled-components\";\r\n\r\nexport const StyledHomePage = styled.div`\r\n    min-height: 100vh;\r\n\r\n    .listTopSongs {\r\n        padding: 20px;\r\n    }\r\n\r\n    .noSongs {\r\n        margin-top: 10px;\r\n        padding-left: 10px;\r\n    }\r\n\r\n`;","import styled from \"styled-components\";\r\n\r\nexport const StyledSearchResultPage = styled.div`\r\n    padding-left: 30px;\r\n\r\n    .heading {\r\n        font-size: 30px;\r\n        margin-left: -20px;\r\n        padding-top: 20px;\r\n    }\r\n`;","import { css } from \"styled-components\";\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport const theme = {\r\n    colors: {\r\n        main: \"#170F23\",\r\n        secondary: \"#3F0537\",\r\n        purple: \"#7200A1\",\r\n        orange: \"#FF5D24\",\r\n        gray: \"#F6F6F6\",\r\n        gray_1: \"#333333\",\r\n        gray_2: \"#4f4f4f\",\r\n        gray_3: \"#828282\",\r\n        gray_4: \"#BDBDBD\",\r\n        gray_5: \"#E0E0E0\",\r\n        gray_6: \"#F2F2F2\",\r\n        black: \"#231B2E\",\r\n        bgBtn: \"#430538\"\r\n    },\r\n    breakPoints: {\r\n        breakSmall: \"320px\",\r\n        breakMobile: \"540px\",\r\n        breakMobileMedium: \"575px\",\r\n        breakTablet: \"770px\",\r\n        breakOnlyMobile: \"768px\",\r\n        breakMedium: \"980px\",\r\n        breakIpadPro: \"1024px\",\r\n        breakLarge: \"1200px\",\r\n        breakBig: \"1366px\",\r\n    }\r\n};\r\n\r\nexport const breakpoint = {\r\n    breakSmall: (...args) => css`\r\n        @media (max-width: ${theme.breakPoints.breakSmall}) {\r\n            ${css(...args)}\r\n        }\r\n    `,\r\n    breakMobile: (...args) => css`\r\n        @media (max-width: ${theme.breakPoints.breakMobile}) {\r\n            ${css(...args)}\r\n        }\r\n    `,\r\n    breakMobileMedium: (...args) => css`\r\n        @media (max-width: ${theme.breakPoints.breakMobileMedium}) {\r\n            ${css(...args)}\r\n        }\r\n    `,\r\n    breakTablet: (...args) => css`\r\n        @media (max-width: ${theme.breakPoints.breakTablet}) {\r\n            ${css(...args)}\r\n        }\r\n    `,\r\n    breakMedium: (...args) => css`\r\n        @media (max-width: ${theme.breakPoints.breakMedium}) {\r\n            ${css(...args)}\r\n        }\r\n    `,\r\n    breakIpadPro: (...args) => css`\r\n        @media (max-width: ${theme.breakPoints.breakIpadPro}) {\r\n            ${css(...args)}\r\n        }\r\n    `,\r\n    breakLarge: (...args) => css`\r\n        @media (max-width: ${theme.breakPoints.breakLarge}) {\r\n            ${css(...args)}\r\n        }\r\n    `,\r\n    breakBig: (...args) => css`\r\n        @media (max-width: ${theme.breakPoints.breakBig}) {\r\n            ${css(...args)}\r\n        }\r\n    `,\r\n};\r\n","import * as yup from 'yup';\r\n\r\nexport const loginSchema = yup.object().shape({\r\n    email: yup.string().required(\"This field is required!\").email(\"Email is invalid!\"),\r\n    password: yup.string().required(\"This field is required!\")\r\n});\r\n\r\nexport const registerSchema = yup.object().shape({\r\n    email: yup.string().required(\"This field is required!\").email(\"Email is invalid!\"),\r\n    password: yup.string().required(\"This field is required!\"),\r\n    confirmPassword: yup.string().required(\"This field is required!\").oneOf([yup.ref('password'), null], 'Passwords must match')\r\n});","export const convertSongInfo = (songInfo) => {\r\n    const output = {\r\n        key: songInfo.key || songInfo.slug,\r\n        name: songInfo.name,\r\n        musicSrc: songInfo.musicSrc || songInfo.fileUrl,\r\n        cover: songInfo.cover || songInfo.thumbUrl,\r\n        singer: songInfo.singer || \"\",\r\n        lyric: songInfo.lyric || songInfo.lyrics\r\n    };\r\n    return output;\r\n};","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nexport function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}\r\n","export const sleep = (ms) => {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }","import styled from \"styled-components\";\r\n\r\nimport { breakpoint } from \"src/Utilities\";\r\n\r\nexport const StyledAccountPage = styled.div`\r\n    padding: 20px 20px 0 20px;\r\n\r\n    .infoWrapper {\r\n        display: flex;\r\n        width: 100%;\r\n\r\n        ${breakpoint.breakTablet`\r\n            flex-direction: column;\r\n        `}\r\n    }\r\n\r\n    .generalInfoWrapper {\r\n        padding-left: 20px;\r\n        padding-top: 20px;\r\n        display: flex;\r\n\r\n        ${breakpoint.breakMobile`\r\n            flex-direction: column;\r\n            padding-left: 0px;\r\n            align-items: center;\r\n        `}\r\n\r\n        .userInfo {\r\n            padding: 0 10px;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: center;\r\n\r\n            ${breakpoint.breakMobile`\r\n                margin-top: 10px;\r\n            `}\r\n            \r\n            & > p {\r\n                padding: 5px 0;\r\n            }\r\n\r\n            .username {\r\n                font-size: 20px;\r\n            }\r\n\r\n            .value {\r\n                display: block;\r\n                max-width: 270px;\r\n                text-overflow: ellipsis;\r\n                overflow: hidden;\r\n\r\n                ${breakpoint.breakIpadPro`\r\n                    max-width: 185px;\r\n                `}\r\n\r\n                ${breakpoint.breakTablet`\r\n                    max-width: unset;\r\n                `}\r\n\r\n                ${breakpoint.breakMobile`\r\n                    max-width: 275px;\r\n                `}\r\n            }\r\n        }\r\n    }\r\n\r\n    .update {\r\n        min-width: 550px;\r\n        margin-left: 50px;\r\n\r\n        ${breakpoint.breakIpadPro`\r\n            margin-left: 0;\r\n            min-width: 350px;\r\n        `}\r\n        \r\n        ${breakpoint.breakTablet`\r\n            margin-top: 30px;\r\n        `}\r\n\r\n        ${breakpoint.breakTablet`\r\n            min-width: 100%;\r\n        `}\r\n\r\n        .updateInfo {\r\n            margin-top: 10px;\r\n        }\r\n\r\n        .updateItem {\r\n            padding: 10px;\r\n\r\n            .labelAvatar {\r\n                display: inline-block;\r\n                padding-bottom: 10px;\r\n            }\r\n        }\r\n    }\r\n\r\n    .MuiFormLabel-root {\r\n        color: #fff;\r\n    }\r\n\r\n    .MuiInputBase-root {\r\n        color: #fff;\r\n    }\r\n\r\n    .MuiOutlinedInput-notchedOutline {\r\n        border-color: #fff;\r\n    }\r\n\r\n    .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline {\r\n        border-color: #fff;\r\n    }\r\n\r\n    .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline {\r\n        border-color: #fff;\r\n    }\r\n\r\n    .MuiFormLabel-root.Mui-focused {\r\n        color: #fff;\r\n    }\r\n    \r\n    .MuiFormLabel-root.Mui-error {\r\n        color: #f44336;\r\n    }\r\n\r\n    .MuiOutlinedInput-root.Mui-error .MuiOutlinedInput-notchedOutline {\r\n        border-color: #f44336;\r\n    }\r\n\r\n    .MuiFormLabel-root.Mui-disabled {\r\n        color: #fff;\r\n    }\r\n\r\n    .MuiInputBase-root.Mui-disabled {\r\n        color: #fff;\r\n    }\r\n\r\n    .MuiOutlinedInput-root.Mui-disabled .MuiOutlinedInput-notchedOutline {\r\n        border-color: #fff;\r\n    }\r\n`;","import styled from \"styled-components\";\r\n\r\nexport const StyledButton = styled.button`\r\n    padding: 13px 20px;\r\n    border-radius: 6px;\r\n    width: 100%;\r\n    transition: 300ms;\r\n    font-size: 16px;\r\n    \r\n    &:hover {\r\n        background-color: ${p => p.theme.colors.secondary};\r\n    }\r\n`;\r\n\r\nexport const StyledUpdateButton = styled(StyledButton)`\r\n    margin-top: 20px;\r\n    border: 1px solid #fff;\r\n    background-color: ${p => p.disabled ? \"#ccc\" : \"transparent\"};\r\n\r\n    &:hover {\r\n        background-color: ${p => p.disabled ? \"#ccc\" : p.theme.colors.secondary};\r\n    }\r\n`;","import styled from \"styled-components\";\r\n\r\nexport const StyledBackground = styled.div`\r\n    background: rgb(2,0,36);\r\n    background: linear-gradient(32deg, rgba(2,0,36,1) 0%, rgba(121,9,73,1) 50%, rgba(0,212,255,1) 100%);\r\n    width: 100vw;\r\n    height: 100vh;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: -1;\r\n`;\r\n\r\nexport const StyledBackgroundLogin = styled.div`\r\n    background-image: url(\"images/backgrounds/background_login.jpg\");\r\n    width: 100vw;\r\n    height: 100vh;\r\n    position: fixed;\r\n    background-size: cover;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: -1;\r\n`;","import styled from \"styled-components\";\r\n\r\nexport const StyledFormControl = styled.div`\r\n    margin: 20px 0;\r\n`;","import styled from \"styled-components\";\r\n\r\nexport const StyledFormModule = styled.div`\r\n    background-color: #fff;\r\n    padding: 10px;\r\n`;","import { motion } from \"framer-motion\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { PATH_HOME } from \"src/Routes\";\r\nimport { SideBarItemComponent } from \"src/Components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { playerSelector } from \"src/Redux\";\r\n\r\nexport const SideBarComponent = () => {\r\n    const itemModelTop = [\r\n        {\r\n            iconName: \"home\",\r\n            title: \"Home\",\r\n            link: PATH_HOME\r\n        },\r\n        {\r\n            iconName: \"musical-notes\",\r\n            title: \"Playlists\",\r\n            link: PATH_HOME\r\n        },\r\n        {\r\n            iconName: \"browsers\",\r\n            title: \"Libraries\",\r\n            link: PATH_HOME\r\n        },\r\n    ];\r\n\r\n    const itemModelBottom = [\r\n        {\r\n            iconName: \"person\",\r\n            title: \"Following\",\r\n            link: PATH_HOME\r\n        },\r\n    ];\r\n\r\n    const isPlaying = useSelector(playerSelector).isPlaying;\r\n\r\n    return (\r\n        <Container\r\n            initial={{\r\n                x: -1000\r\n            }}\r\n            animate={{\r\n                x: 0\r\n            }}\r\n            transition={{\r\n                duration: .7\r\n            }}\r\n            isPlaying={isPlaying}\r\n        >\r\n            <Link to={PATH_HOME} className=\"logo flexCenter\">\r\n                <img src=\"images/logos/logo.png\" alt=\"\" />\r\n                <span style={{ \"--i\": \"1s\" }} className=\"ringAnimate\"></span>\r\n                <span style={{ \"--i\": \"2s\" }} className=\"ringAnimate\"></span>\r\n                <span style={{ \"--i\": \"3s\" }} className=\"ringAnimate\"></span>\r\n            </Link>\r\n            <div className=\"listItem\">\r\n                {itemModelTop.map((item, index) => {\r\n                    return (\r\n                        <SideBarItemComponent key={index} data={item} />\r\n                    );\r\n                })}\r\n            </div>\r\n            <div className=\"listItem listItemBottom\">\r\n                {itemModelBottom.map((item, index) => {\r\n                    return (\r\n                        <SideBarItemComponent key={index} data={item} />\r\n                    );\r\n                })}\r\n            </div>\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Container = styled(motion.div)`\r\n    background-color: ${p => p.theme.colors.secondary};\r\n    box-shadow: 3px 0 10px rgba(0, 0, 0, .3);\r\n    min-height: 100vh;\r\n    position: sticky;\r\n    top: 0;\r\n    left: 0;\r\n\r\n    .logo {\r\n        padding-top: 5px;\r\n        position: relative;\r\n\r\n        .ringAnimate {\r\n            position: absolute;\r\n            display: inline-block;\r\n            width: 40%;\r\n            height: 100%;\r\n            border-radius: 50%;\r\n            border: 1px solid ${p => p.theme.colors.gray_5};\r\n            transform: scale(0.7);\r\n            ${p => p.isPlaying ? \"animation: scale 3s infinite var(--i);\" : \"\"}\r\n            z-index: -1;\r\n        }\r\n\r\n        img {\r\n            width: 40%;\r\n        }\r\n    }\r\n\r\n    .listItem {\r\n        display: flex;\r\n        flex-direction: column;\r\n        padding-top: 30px;\r\n        padding-left: 15px;\r\n        padding-bottom: 10px;\r\n        border-bottom: 1px solid ${p => p.theme.colors.gray_3};\r\n\r\n        &.listItemBottom {\r\n            border-bottom: none;\r\n            padding-top: 10px;\r\n        }\r\n    }\r\n\r\n    @keyframes scale {\r\n        from {\r\n            transform: scale(0.9);\r\n            opacity: 1;\r\n        }\r\n\r\n        to {\r\n            transform: scale(1.5);\r\n            opacity: 0;\r\n        }\r\n    }\r\n`;","import styled from \"styled-components\";\r\nimport { motion } from \"framer-motion\";\r\nimport { ClipLoader } from \"react-spinners\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { StyledButton, SearchResultBox, AvatarComponent } from \"src/Components\";\r\nimport { breakpoint, useWindowDimensions } from \"src/Utilities\";\r\nimport { authSelector } from \"src/Redux\";\r\nimport { PATH_ACCOUNT_SETTING } from \"src/Routes\";\r\n\r\nexport const HeaderComponent = ({\r\n    isBlur = false,\r\n    onClickLogin = () => {},\r\n    keySearch = \"\",\r\n    isSearching = false,\r\n    onChangeKeySearch = () => {},\r\n    searchResult,\r\n    isShowSearchResultBox = false,\r\n    onShowSearchResultBox = () => {},\r\n    onHiddenSearchResultBox = () => {},\r\n    isFocused = false,\r\n    onClickSearchAll,\r\n    onKeyUpInput = () => {},\r\n    onClickLogout = () => {}\r\n}) => {\r\n    const { width } = useWindowDimensions();\r\n    const userInfo = useSelector(authSelector).userInfo;\r\n\r\n    const MenuAccount = () => {\r\n        return (\r\n            <Menu>\r\n                <Link to={PATH_ACCOUNT_SETTING} className=\"item\">\r\n                    <span className=\"icon\">\r\n                        <ion-icon name=\"shield-checkmark-outline\"></ion-icon>\r\n                    </span>\r\n                    <span className=\"text\">\r\n                        Tài khoản\r\n                    </span>\r\n                </Link>\r\n                <div className=\"item\" onClick={onClickLogout}>\r\n                    <span className=\"icon\">\r\n                        <ion-icon name=\"log-out-outline\"></ion-icon>\r\n                    </span>\r\n                    <span className=\"text\">\r\n                        Đăng xuất\r\n                    </span>\r\n                </div>\r\n            </Menu>\r\n        );\r\n    };\r\n    return (\r\n        <Container \r\n            className=\"flexCenter\" \r\n            isBlur={isBlur}\r\n            isFocused={isFocused}\r\n            width={width}\r\n            initial={{\r\n                y: -1000\r\n            }}\r\n            animate={{\r\n                y: 0\r\n            }}\r\n            transition={{\r\n                duration: .7\r\n            }}\r\n        >\r\n            <div className=\"searchBox flexCenter\">\r\n                <span className=\"searchIcon\">\r\n                    <ion-icon name=\"search-outline\"></ion-icon>\r\n                </span>\r\n                <input \r\n                    type=\"text\" \r\n                    value={keySearch} \r\n                    onChange={onChangeKeySearch} \r\n                    onFocus={onShowSearchResultBox} \r\n                    onBlur={onHiddenSearchResultBox} \r\n                    onKeyUp={onKeyUpInput}\r\n                />\r\n                {isSearching && (\r\n                    <span className=\"spinner\">\r\n                        <ClipLoader size={16} color=\"#fff\" />\r\n                    </span>\r\n                )}\r\n                {isShowSearchResultBox && (\r\n                    <div className=\"searchResult\">\r\n                        <SearchResultBox keySearch={keySearch} searchResult={searchResult} onClickSearchAll={onClickSearchAll} />\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <div className=\"menu flexCenter\">\r\n                <button className=\"uploadBtn flexCenter\">\r\n                    <span className=\"uploadIcon\">\r\n                        <ion-icon name=\"cloud-upload-outline\"></ion-icon>\r\n                    </span>\r\n                    <span className=\"text\">\r\n                        Upload\r\n                    </span>\r\n                </button>\r\n                <div className=\"loginBtn\">\r\n                    {userInfo ? (\r\n                        <>\r\n                            <AvatarComponent \r\n                                // width={50}\r\n                                avatarUrl={userInfo.avatarUrl}\r\n                            />\r\n                            <div className=\"menuAccount\">\r\n                                <MenuAccount />\r\n                            </div>\r\n                        </>\r\n                    ) : (\r\n                        <StyledButton onClick={onClickLogin}>\r\n                            Đăng nhập\r\n                        </StyledButton>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Menu = styled.div`\r\n    background-color: ${p => p.theme.colors.secondary};\r\n    border-radius: 8px;\r\n    overflow: hidden;\r\n\r\n    .item {\r\n        display: flex;\r\n        width: 130px;\r\n        padding: 10px;\r\n        cursor: pointer;\r\n\r\n        &:hover {\r\n            background-color: ${p => p.theme.colors.main};\r\n        }\r\n\r\n        .icon {\r\n            margin-right: 10px;\r\n        }\r\n\r\n        .text {\r\n            display: inline-block;\r\n            /* width: 100px; */\r\n        }\r\n    }\r\n`;\r\n\r\nconst Container = styled(motion.div)`\r\n    height: 80px;\r\n    justify-content: space-between;\r\n    padding: 0 10px;\r\n    position: sticky;\r\n    top: 0;\r\n    right: 0;\r\n    transition: height 300ms;\r\n    z-index: 1;\r\n    ${({ isBlur, theme }) => isBlur ? `\r\n        backdrop-filter: blur(10px);\r\n        border-bottom: 1px solid ${theme.colors.gray_1};\r\n        box-shadow: 0 3px 7px rgba(0, 0, 0, .3);\r\n        height: 60px;\r\n    ` : \"\"}\r\n\r\n    /* ${breakpoint.breakMobile`\r\n        justify-content: center;\r\n    `} */\r\n    \r\n    .menu {\r\n        .uploadBtn {\r\n            ${breakpoint.breakMobile`\r\n                display: none;\r\n            `}\r\n        }\r\n\r\n        .loginBtn {\r\n            margin-left: 10px;\r\n            display: ${p => p.width < 744 && p.isFocused ? \"none\" : \"block\"};\r\n            position: relative;\r\n\r\n            &:hover {\r\n                .menuAccount {\r\n                    padding-top: 5px;\r\n                    display: block;\r\n                }\r\n            }\r\n\r\n            .menuAccount {\r\n                position: absolute;\r\n                top: 100%;\r\n                right: 0;\r\n                display: none;\r\n            }\r\n\r\n            button {\r\n                ${breakpoint.breakMobile`\r\n                    padding: 5px;\r\n                `}\r\n            }\r\n        }\r\n    }\r\n\r\n    .uploadBtn {\r\n        border-bottom: 1px solid transparent;\r\n        font-size: 16px;\r\n\r\n        &:hover {\r\n            border-bottom: 1px solid #fff;\r\n        }\r\n\r\n        .text {\r\n            margin-left: 5px;\r\n            margin-bottom: 2px;\r\n        }\r\n    }\r\n\r\n    .searchBox {\r\n        background-color: ${p => p.theme.colors.gray_1};\r\n        padding: 10px 20px;\r\n        border-radius: 100px;\r\n        margin-left: 30px;\r\n        min-width: 300px;\r\n        position: relative;\r\n\r\n        ${breakpoint.breakMobile`\r\n            padding: 10px 20px;\r\n            margin-left: 0;\r\n            min-width: unset;\r\n            flex: 1;\r\n        `}\r\n\r\n        input {\r\n            border: none;\r\n            padding: 0 5px;\r\n            flex: 1;\r\n        }\r\n\r\n        .searchIcon {\r\n            position: relative;\r\n            top: 2px;\r\n        }\r\n\r\n        .spinner {\r\n            position: absolute;\r\n            top: calc(50% + 2px);\r\n            right: 15px;\r\n            transform: translateY(-50%);\r\n        }\r\n\r\n        .searchResult {\r\n            position: absolute;\r\n            top: calc(100% + 5px);\r\n            left: 0;\r\n            width: 100%;\r\n        }\r\n    }\r\n`;","import { TextField } from \"@material-ui/core\";\r\nimport styled from \"styled-components\";\r\n\r\n\r\nexport const InputComponent = ({\r\n    label = \"\",\r\n    value = \"\",\r\n    type = \"text\",\r\n    error = \"\",\r\n    touched = false,\r\n    name = \"\",\r\n    onChange = () => {},\r\n    onBlur = () => {}\r\n}) => {\r\n\r\n    return (\r\n        <StyledTextField>\r\n            <TextField\r\n                label={label}\r\n                fullWidth\r\n                value={value}\r\n                type={type}\r\n                error={!!error && touched}\r\n                helperText={!!error && touched ? error : \"\"}\r\n                name={name}\r\n                variant=\"outlined\"\r\n                onChange={onChange}\r\n                onBlur={onBlur}\r\n                autoComplete=\"\"\r\n            />\r\n        </StyledTextField>\r\n    );\r\n};\r\n\r\nconst StyledTextField = styled.div`\r\n    .MuiFormLabel-root {\r\n        color: #fff;\r\n    }\r\n\r\n    .MuiInputBase-root {\r\n        color: #fff;\r\n    }\r\n\r\n    .MuiOutlinedInput-notchedOutline {\r\n        border-color: #fff;\r\n    }\r\n\r\n    .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline {\r\n        border-color: #fff;\r\n    }\r\n\r\n    .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline {\r\n        border-color: #fff;\r\n    }\r\n\r\n    .MuiFormLabel-root.Mui-focused {\r\n        color: #fff;\r\n    }\r\n    \r\n    .MuiFormLabel-root.Mui-error {\r\n        color: #f44336;\r\n    }\r\n\r\n    .MuiOutlinedInput-root.Mui-error .MuiOutlinedInput-notchedOutline {\r\n        border-color: #f44336;\r\n    }\r\n\r\n    .MuiFormLabel-root.Mui-disabled {\r\n        color: #fff;\r\n    }\r\n\r\n    .MuiInputBase-root.Mui-disabled {\r\n        color: #fff;\r\n    }\r\n\r\n    .MuiOutlinedInput-root.Mui-disabled .MuiOutlinedInput-notchedOutline {\r\n        border-color: #fff;\r\n    }\r\n`;","import styled from \"styled-components\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nimport { StyledFormControl, InputComponent, StyledUpdateButton } from \"src/Components\";\r\n\r\n\r\nexport const FormLoginComponent = ({\r\n    values = {},\r\n    errors = {},\r\n    touched = {},\r\n    onChange = () => {},\r\n    onBlur = () => {},\r\n    onSubmit = () => {},\r\n    isSubmitting = false,\r\n}) => {\r\n    \r\n    return (\r\n        <Container onSubmit={onSubmit}>\r\n            <div className=\"heading\">\r\n                Login\r\n            </div>\r\n            <div className=\"formMain\">\r\n                <StyledFormControl>\r\n                    <InputComponent\r\n                        label=\"Email\"\r\n                        value={values.email}\r\n                        error={errors.email}\r\n                        touched={touched.email}\r\n                        name=\"email\"\r\n                        onChange={onChange}\r\n                        onBlur={onBlur}\r\n                    />\r\n                </StyledFormControl>\r\n                <StyledFormControl>\r\n                    <InputComponent\r\n                        label=\"Password\"\r\n                        value={values.password}\r\n                        error={errors.password}\r\n                        touched={touched.password}\r\n                        name=\"password\"\r\n                        onChange={onChange}\r\n                        onBlur={onBlur}\r\n                        type=\"password\"\r\n                    />\r\n                </StyledFormControl>\r\n            </div>\r\n            <div className=\"loginBtn\">\r\n                <StyledUpdateButton type=\"submit\" variant=\"contained\" disabled={isSubmitting}>Login</StyledUpdateButton>\r\n            </div>\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Container = styled(motion.form)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-height: 350px;\r\n    /* border: 1px solid ${p => p.theme.colors.gray_3}; */\r\n    padding: 20px;\r\n    border-radius: 8px;\r\n    min-width: 300px;\r\n\r\n    .formMain {\r\n        flex: 1;\r\n    }\r\n\r\n    .heading {\r\n        text-align: center;\r\n        font-weight: 800;\r\n        font-size: 23px;\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .loginBtn {\r\n        border-top: 1px solid #fff;\r\n    }\r\n`;","import styled from \"styled-components\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nimport { StyledFormControl, InputComponent, StyledUpdateButton } from \"src/Components\";\r\n\r\n\r\nexport const FormRegisterComponent = ({\r\n    values = {},\r\n    errors = {},\r\n    touched = {},\r\n    onChange = () => {},\r\n    onBlur = () => {},\r\n    onSubmit = () => {},\r\n    isSubmitting = false,\r\n}) => {\r\n    \r\n    return (\r\n        <Container onSubmit={onSubmit}>\r\n            <div className=\"heading\">\r\n                Register\r\n            </div>\r\n            <div className=\"formMain\">\r\n                <StyledFormControl>\r\n                    <InputComponent\r\n                        label=\"Email\"\r\n                        value={values.email}\r\n                        error={errors.email}\r\n                        touched={touched.email}\r\n                        name=\"email\"\r\n                        onChange={onChange}\r\n                        onBlur={onBlur}\r\n                    />\r\n                </StyledFormControl>\r\n                <StyledFormControl>\r\n                    <InputComponent\r\n                        label=\"Password\"\r\n                        value={values.password}\r\n                        error={errors.password}\r\n                        touched={touched.password}\r\n                        name=\"password\"\r\n                        onChange={onChange}\r\n                        onBlur={onBlur}\r\n                        type=\"password\"\r\n                    />\r\n                </StyledFormControl>\r\n                <StyledFormControl>\r\n                    <InputComponent\r\n                        label=\"Confirm password\"\r\n                        value={values.confirmPassword}\r\n                        error={errors.confirmPassword}\r\n                        touched={touched.confirmPassword}\r\n                        name=\"confirmPassword\"\r\n                        onChange={onChange}\r\n                        onBlur={onBlur}\r\n                        type=\"password\"\r\n                    />\r\n                </StyledFormControl>\r\n            </div>\r\n            <div className=\"loginBtn\">\r\n                <StyledUpdateButton variant=\"contained\" disabled={isSubmitting} type=\"submit\">Register</StyledUpdateButton>\r\n            </div>\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Container = styled(motion.form)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    min-height: 350px;\r\n    /* border: 1px solid ${p => p.theme.colors.gray_3}; */\r\n    padding: 20px;\r\n    border-radius: 8px;\r\n    min-width: 300px;\r\n\r\n    .formMain {\r\n        flex: 1;\r\n    }\r\n\r\n    .heading {\r\n        text-align: center;\r\n        font-weight: 800;\r\n        font-size: 23px;\r\n        margin-bottom: 10px;\r\n    }\r\n\r\n    .loginBtn {\r\n        border-top: 1px solid #fff;\r\n    }\r\n`;","import styled from \"styled-components\";\r\nimport { PacmanLoader } from \"react-spinners\";\r\n\r\nexport const LoadingOverLay = () => {\r\n    return (\r\n        <Container className=\"flexCenter\">\r\n            <PacmanLoader color=\"#7200A1\" />\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Container = styled.div`\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, .3);\r\n    z-index: 100000;\r\n`;","import styled from \"styled-components\";\r\n\r\nexport const SearchResultBox = ({\r\n    searchResult = {\r\n        songs: [],\r\n        playlists: []\r\n    },\r\n    keySearch = \"\",\r\n    onClickSearchAll = () => {}\r\n}) => {\r\n    return (\r\n        <Container>\r\n            {!!searchResult.songs.length && <p className=\"heading\">Bài hát:</p>}\r\n            {!!searchResult.songs.length && searchResult.songs.map(item => {\r\n                return (\r\n                    <div key={item._id} className=\"searchResultItem flexCenter\">\r\n                        <div className=\"thumb\">\r\n                            <img src={item.thumbUrl} alt={item.slug} />\r\n                        </div>\r\n                        <div className=\"info\">\r\n                            <p className=\"name\">{item.name}</p>\r\n                            <p className=\"singer\">{item.singer}</p>\r\n                        </div>\r\n                    </div>\r\n                );\r\n            })}\r\n            <div className=\"showAll searchResultItem\" onClick={onClickSearchAll}>\r\n                {!!searchResult.songs.length || !!searchResult.playlists.length ? `Hiển thị tất cả với: ${keySearch}` : `Không tìm thấy bài hát nào với: ${keySearch}`}\r\n            </div>\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Container = styled.div`\r\n    background-color: ${p => p.theme.colors.secondary};\r\n    width: 100%;\r\n    border-radius: 10px;\r\n    overflow: hidden;\r\n\r\n    .heading {\r\n        margin: 10px 0 5px 10px;\r\n    }\r\n\r\n    .searchResultItem {\r\n        padding: 10px 20px;\r\n        cursor: pointer;\r\n\r\n        &:hover {\r\n            background-color: ${p => p.theme.colors.main};\r\n        }\r\n\r\n        &.showAll {\r\n            border-top: 1px solid ${p => p.theme.colors.black};\r\n        }\r\n\r\n        .info {\r\n            flex: 1;\r\n\r\n            .singer {\r\n                font-size: 13px;\r\n            }\r\n        }\r\n    }\r\n\r\n    .thumb {\r\n        margin-right: 5px;\r\n\r\n        img {\r\n            width: 40px;\r\n            border-radius: 50%;\r\n        }\r\n    }\r\n`;","import { useSelector } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { playerSelector } from \"src/Redux\";\r\nimport { useWindowDimensions } from \"src/Utilities\";\r\n\r\nexport const SongItemComponent = ({\r\n    data = null,\r\n    onClickPlayBtn = () => {},\r\n    onClickAddBtn = () => {}\r\n}) => {\r\n    const playerRedux = useSelector(playerSelector);\r\n    const listPlaying = playerRedux.playlist;\r\n    const currentSong = playerRedux.currentSong || {};\r\n    const isExisted = listPlaying.some(song => song.musicSrc === data.musicSrc);\r\n    const isPlaying = data.musicSrc === currentSong.musicSrc;\r\n    const { width } = useWindowDimensions();\r\n    // console.log(data.musicSrc, currentSong.musicSrc);\r\n    return (\r\n        <Container>\r\n            {width >= 744 ? (\r\n                <div className=\"thumb\" title={data.name}>\r\n                    <img src={data.cover} alt={data.name} />\r\n                    <div className=\"groupBtn flexCenter\">\r\n                        <button className=\"playBtn\" onClick={onClickPlayBtn}>\r\n                            <ion-icon name={isPlaying ? \"pause-circle-outline\" : \"play-circle-outline\"}></ion-icon>\r\n                        </button>\r\n                        {!isExisted && (\r\n                            <button className=\"addBtn\" onClick={onClickAddBtn}>\r\n                                <ion-icon name=\"add-circle\"></ion-icon>\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"wrapperMobile\">\r\n                    <div className=\"thumb\" onClick={onClickPlayBtn}>\r\n                        <img src={data.cover} alt={data.name} />\r\n                    </div>\r\n                    <div className=\"info\" onClick={onClickPlayBtn}>\r\n                        <h3 className=\"songName\">{data.name}</h3>\r\n                        <p className=\"singer\">{data.singer}</p>\r\n                    </div>\r\n                    <div className=\"add flexCenter\">\r\n                        {!isExisted && (\r\n                            <button className=\"addBtn\" onClick={onClickAddBtn}>\r\n                                <ion-icon name=\"add-circle\"></ion-icon>\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Container = styled.div`\r\n    padding: 10px;\r\n\r\n    .thumb {\r\n        cursor: pointer;\r\n        position: relative;\r\n\r\n        .groupBtn {\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            width: 100%;\r\n            height: 100%;\r\n            opacity: 0;\r\n            background-color: rgba(0, 0, 0, .5);\r\n            transition: 300ms;\r\n\r\n            &:hover {\r\n                opacity: 1;\r\n            }\r\n            \r\n            ion-icon {\r\n                font-size: 40px;\r\n\r\n                @media (max-width: 1111px) {\r\n                    font-size: 50px;\r\n                }\r\n            }\r\n        }\r\n\r\n        img {\r\n            width: 100%;\r\n        }\r\n    }\r\n\r\n    .wrapperMobile {\r\n        display: flex;\r\n        border-bottom: 1px solid ${p => p.theme.colors.gray_3};\r\n        padding-bottom: 10px;\r\n\r\n        .thumb {\r\n            width: 50px;\r\n            margin-right: 10px;\r\n\r\n            img {\r\n                width: 100%;\r\n            }\r\n        }\r\n\r\n        .info {\r\n            flex: 1;\r\n\r\n            .songName {\r\n                max-width: 185px;\r\n            }\r\n        }\r\n\r\n        .add {\r\n            .addBtn {\r\n                font-size: 20px;\r\n            }\r\n        }\r\n    }\r\n`;","import { motion } from \"framer-motion\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const SideBarItemComponent = ({\r\n    data = null\r\n}) => {\r\n    return (\r\n        <Container\r\n            whileHover={{\r\n                scale: 1.2,\r\n                x: 25,\r\n                transition: {\r\n                    duration: .4,\r\n                    type: \"spring\"\r\n                }\r\n            }}\r\n        >\r\n            <NavLink to={data.link} activeClassName=\"isActived\" className=\"link flexCenter\" exact>\r\n                <span className=\"icon\">\r\n                    <ion-icon name={data.iconName}></ion-icon>\r\n                </span>\r\n                <p className=\"text\">\r\n                    {data.title}\r\n                </p>\r\n            </NavLink>\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Container = styled(motion.div)`\r\n    font-size: 20px;\r\n\r\n    .icon {\r\n        margin-right: 10px;\r\n    }\r\n\r\n    .link {\r\n        justify-content: flex-start;\r\n        padding: 10px 0;\r\n    }\r\n`;","export const FORM_LOGIN = \"FORM_LOGIN\"\r\nexport const FORM_REGISTER = \"FORM_REGISTER\"","import { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { songApi } from \"src/Api\";\r\n\r\nimport { HeaderComponent } from \"src/Components\";\r\nimport { ENTER_KEY } from \"src/Constant\";\r\nimport { logout, showFormLogin } from \"src/Redux\";\r\nimport { PATH_ACCOUNT_SETTING, PATH_HOME, PATH_SEARCH_RESULT } from \"src/Routes\";\r\nimport { sleep, useDebounce } from \"src/Utilities\";\r\n\r\nexport const HeaderModule = () => {\r\n    const [keySearch, setKeySearch] = useState(\"\");\r\n    const [isSearching, setIsSearching] = useState(false);\r\n    const [isBlur, setIsBlur] = useState(false);\r\n    const [searchResult, setSearchResult] = useState({\r\n        songs: [],\r\n        playlists: []\r\n    });\r\n    const [isShowSearchResultBox, setIsShowSearchResultBox] = useState(false);\r\n    const [isSearched, setIsSearched] = useState(false);\r\n    const [isFocused, setIsFocused] = useState(false);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    const changeHeaderStatus = () => {\r\n        if (window.scrollY > 50) {\r\n            setIsBlur(true);\r\n        } else {\r\n            setIsBlur(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener(\"scroll\", changeHeaderStatus);\r\n\r\n        return () => {\r\n            document.removeEventListener(\"scroll\", changeHeaderStatus)\r\n        };\r\n    }, []);\r\n\r\n    const handleSearch = async () => {\r\n        setIsSearching(true);\r\n        try {\r\n            const res = await songApi.getListSongs({\r\n                q: keySearch\r\n            });\r\n            setSearchResult((prevState) => {\r\n                return {\r\n                    ...prevState,\r\n                    songs: res.data.data\r\n                };\r\n            });\r\n        } catch (err) {\r\n            if (!err.response) {\r\n                toast.error(\"Lỗi kết nối!\");\r\n            }\r\n        } finally {\r\n            setIsSearching(false);\r\n            setIsSearched(true);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (isSearched) {\r\n            handleShowSearchResultBox();\r\n        } else {\r\n            handleHiddenSearchResultBox();\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [isSearched]);\r\n\r\n    useDebounce(() => {\r\n        setSearchResult({\r\n            songs: [],\r\n            playlists: []\r\n        });\r\n        if (keySearch.trim()) {\r\n            handleSearch();\r\n        } else if (isSearched) {\r\n            setIsSearched(false);\r\n        }\r\n    }, 500, [keySearch]);\r\n\r\n    const handleShowLogin = () => {\r\n        dispatch(showFormLogin());\r\n    };\r\n\r\n    const handleChangeKeySearch = (event) => {\r\n        setKeySearch(event.target.value);\r\n    };\r\n\r\n    const handleShowSearchResultBox = () => {\r\n        setIsFocused(true);\r\n        if (!isSearched) return;\r\n        setIsShowSearchResultBox(true);\r\n    };\r\n\r\n    const handleHiddenSearchResultBox = async () => {\r\n        await sleep(200);\r\n        setIsFocused(false);\r\n        setIsShowSearchResultBox(false);\r\n    };\r\n\r\n    const handleSwitchToSearchResult = () => {\r\n        history.push(PATH_SEARCH_RESULT + \"/\" + keySearch);\r\n    };\r\n\r\n    const handleKeyUpInput = (event) => {\r\n        if (event.key === ENTER_KEY) {\r\n            handleSwitchToSearchResult();\r\n            handleHiddenSearchResultBox();\r\n        }\r\n    };\r\n\r\n    const handleClickLogout = () => {\r\n        dispatch(logout());\r\n        const isAuthPage = window.location.pathname === PATH_ACCOUNT_SETTING;\r\n        if (isAuthPage) {\r\n            history.push(PATH_HOME);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <HeaderComponent \r\n                isBlur={isBlur} \r\n                onClickLogin={handleShowLogin} \r\n                keySearch={keySearch}\r\n                isSearching={isSearching}\r\n                onChangeKeySearch={handleChangeKeySearch}\r\n                searchResult={searchResult}\r\n                isShowSearchResultBox={isShowSearchResultBox}\r\n                onShowSearchResultBox={handleShowSearchResultBox}\r\n                onHiddenSearchResultBox={handleHiddenSearchResultBox}\r\n                isFocused={isFocused}\r\n                onClickSearchAll={handleSwitchToSearchResult}\r\n                onKeyUpInput={handleKeyUpInput}\r\n                onClickLogout={handleClickLogout}\r\n            />\r\n        </>\r\n    );\r\n};","import { useCallback, useEffect } from \"react\";\r\n\r\nexport const useDebounce = (callback, delay, deps) => {\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    const _callback = useCallback(callback, deps)\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(() => {\r\n            _callback()\r\n        }, delay);\r\n\r\n        return () => {\r\n            clearTimeout(timerId)\r\n        }\r\n    }, [_callback, delay])\r\n}","export const ENTER_KEY = \"Enter\";","import { unwrapResult } from \"@reduxjs/toolkit\";\r\nimport { Formik } from \"formik\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { FormLoginComponent } from \"src/Components\";\r\nimport { login } from \"src/Redux\";\r\nimport { loginSchema } from \"src/Utilities\";\r\n\r\nexport const LoginModule = ({ onHiddenLogin = () => {} }) => {\r\n    const dispatch = useDispatch();\r\n    const initialValuesLogin = {\r\n        email: \"buiduclong0511@gmail.com\",\r\n        password: \"123@abc\"\r\n    };\r\n    return (\r\n        <Formik\r\n            initialValues={initialValuesLogin}\r\n            onSubmit={async (values, { setSubmitting }) => {\r\n                try {\r\n                    const res = await dispatch(login(values));\r\n                    unwrapResult(res);\r\n                    if (res) {\r\n                        onHiddenLogin();\r\n                    }\r\n                } catch (err) {\r\n                    setSubmitting(false);\r\n                    let errorMessage = \"\";\r\n                    if (err.response.status === 401) {\r\n                        errorMessage = \"Sai tài khoản hoặc mật khẩu!\";\r\n                    } else {\r\n                        errorMessage = \"Lỗi đăng nhập!\";\r\n                    }\r\n                    toast.error(errorMessage);\r\n                }\r\n            }}\r\n            validationSchema={loginSchema}\r\n        >\r\n            {(props) => {\r\n                const { values, errors, touched, handleChange, handleBlur, handleSubmit, isSubmitting } = props;\r\n                return (\r\n                    <FormLoginComponent\r\n                        values={values}\r\n                        errors={errors}\r\n                        touched={touched}\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                        onSubmit={handleSubmit}\r\n                        isSubmitting={isSubmitting}\r\n                    />\r\n                );\r\n            }}\r\n        </Formik>\r\n    );\r\n};","import { unwrapResult } from \"@reduxjs/toolkit\";\r\nimport { Formik } from \"formik\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { FormRegisterComponent } from \"src/Components\";\r\nimport { register } from \"src/Redux\";\r\nimport { registerSchema } from \"src/Utilities\";\r\n\r\nexport const RegisterModule = ({ onHiddenLogin = () => {} }) => {\r\n    const dispatch = useDispatch();\r\n    const initialValues = {\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\"\r\n    };\r\n    return (\r\n        <Formik\r\n            initialValues={initialValues}\r\n            onSubmit={async (values, { setSubmitting }) => {\r\n                try {\r\n                    const { confirmPassword, ...body } = values;\r\n                    const res = await dispatch(register(body));\r\n                    unwrapResult(res);\r\n                    if (res) {\r\n                        onHiddenLogin();\r\n                    }\r\n                } catch (err) {\r\n                    setSubmitting(false);\r\n                    let errorMessage = \"\";\r\n                    if (err.response.status === 409) {\r\n                        errorMessage = \"Email đã được đăng ký!\";\r\n                    } else {\r\n                        errorMessage = \"Lỗi đăng ký!\";\r\n                    }\r\n                    toast.error(errorMessage);\r\n                }\r\n            }}\r\n            validationSchema={registerSchema}\r\n        >\r\n            {(props) => {\r\n                const { values, errors, touched, handleChange, handleBlur, handleSubmit, isSubmitting } = props;\r\n                return (\r\n                    <FormRegisterComponent\r\n                        values={values}\r\n                        errors={errors}\r\n                        touched={touched}\r\n                        onChange={handleChange}\r\n                        onBlur={handleBlur}\r\n                        onSubmit={handleSubmit}\r\n                        isSubmitting={isSubmitting}\r\n                    />\r\n                );\r\n            }}\r\n        </Formik>\r\n    );\r\n};","import { FooterComponent } from \"src/Components\";\r\n\r\nexport const FooterModule = () => {\r\n    return (\r\n        <FooterComponent />\r\n    );\r\n};","import { useState } from \"react\";\r\n\r\nimport { SearchResultSongItem } from \"src/Components\";\r\n\r\nexport const SearchResultSongItemModule = ({\r\n    key,\r\n    data,\r\n    onClickPlay,\r\n    index = \"\"\r\n}) => {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n    const handleShowMenu = (event) => {\r\n        setAnchorEl(anchorEl ? null : event.currentTarget);\r\n    };\r\n\r\n    const open = Boolean(anchorEl);\r\n    const id = open ? index.toString() : undefined;\r\n    return (\r\n        <SearchResultSongItem\r\n            key={key}\r\n            data={data}\r\n            onClickPlay={onClickPlay}\r\n            onShowMenu={handleShowMenu}\r\n            index={id}\r\n            anchorEl={anchorEl}\r\n            open={open}\r\n        />\r\n    );\r\n};","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { AddMenuComponent } from \"src/Components\";\r\nimport { concatPlaylist, playerSelector } from \"src/Redux\";\r\nimport { convertSongInfo } from \"src/Utilities\";\r\n\r\nexport const AddMenuModule = ({\r\n    data\r\n}) => {\r\n    const dispatch = useDispatch();\r\n    const playlist = useSelector(playerSelector).playlist;\r\n    const onAddToCurrent = () => {\r\n        const songInfo = convertSongInfo(data);\r\n        const isExisted = playlist.some(song => song.musicSrc === songInfo.musicSrc);\r\n        if (isExisted) {\r\n            toast.warning(\"Bài hát đã có trong danh sách phát!\");\r\n        } else {\r\n            dispatch(concatPlaylist([songInfo]));\r\n        }\r\n    };\r\n\r\n    const onShowMenu = () => {\r\n        console.log(data);\r\n    };\r\n\r\n\r\n    return (\r\n        <AddMenuComponent\r\n            onAddToCurrent={onAddToCurrent}\r\n            onShowMenu={onShowMenu}\r\n        />\r\n    );\r\n};","import { motion } from \"framer-motion\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { LoadingOverLay } from \"src/Components\";\r\nimport { FORM_LOGIN, FORM_REGISTER } from \"src/Constant\";\r\nimport { LoginModule, RegisterModule } from \"src/Modules\";\r\nimport { authSelector, closePlayer } from \"src/Redux\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const LoginModalComponent = ({ onHiddenLogin = () => {} }) => {\r\n    const [form, setForm] = useState(FORM_LOGIN);\r\n    const dispatch = useDispatch();\r\n    const isLoading = useSelector(authSelector).isLoading;\r\n    const handleSwitchForm = () => {\r\n        if (form === FORM_LOGIN) {\r\n            setForm(FORM_REGISTER);\r\n        } else {\r\n            setForm(FORM_LOGIN);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(closePlayer());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n    return (\r\n        <Container className=\"flexCenter\">\r\n            <div className=\"overlay\" onClick={onHiddenLogin}></div>\r\n            <motion.div \r\n                className=\"formWrapper\" \r\n                initial={{\r\n                    x: 1000\r\n                }}\r\n                animate={{\r\n                    x: 0\r\n                }}\r\n            >\r\n                <button className=\"closeButton\" onClick={onHiddenLogin}>&times;</button>\r\n                {form === FORM_LOGIN ? (\r\n                    <>\r\n                        <LoginModule onHiddenLogin={onHiddenLogin} />\r\n                        <p className=\"switch\">Bạn chưa có tài khoản? <span onClick={handleSwitchForm}>Đăng ký</span></p>\r\n                    </>\r\n                ) : (\r\n                    <>\r\n                        <RegisterModule onHiddenLogin={onHiddenLogin} />\r\n                    <p className=\"switch\">Bạn đã có tài khoản? <span onClick={handleSwitchForm}>Đăng nhập</span></p>\r\n                    </>\r\n                )}\r\n            </motion.div>\r\n            {isLoading && <LoadingOverLay />}\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Container = styled.div`\r\n    min-height: 100vh;\r\n    flex-direction: column;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 100;\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background-color: rgba(0, 0, 0, .3);\r\n\r\n    .overlay {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: 1;\r\n    }\r\n    \r\n    .formWrapper {\r\n        background-color: ${p => p.theme.colors.main};\r\n        border-radius: 8px;\r\n        padding: 20px;\r\n        z-index: 2;\r\n        position: relative;\r\n\r\n        .closeButton {\r\n            position: absolute;\r\n            top: 0;\r\n            right: 0;\r\n            padding: 10px;\r\n            font-size: 30px;\r\n        }\r\n    }\r\n\r\n    .switch {\r\n        padding-top: 10px;\r\n        text-align: center;\r\n\r\n        span {\r\n            transition: 300ms;\r\n            cursor: pointer;\r\n\r\n            &:hover {\r\n                color: ${p => p.theme.colors.orange};\r\n            }\r\n        }\r\n    }\r\n`;","import styled from \"styled-components\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport { breakpoint } from \"src/Utilities\";\r\nimport { PATH_HOME } from \"src/Routes\";\r\n\r\nexport const FooterComponent = () => {\r\n    const itemsModel = [\r\n        {\r\n            iconName: \"home\",\r\n            title: \"Home\",\r\n            link: PATH_HOME\r\n        },\r\n        {\r\n            iconName: \"browsers\",\r\n            title: \"Libraries\",\r\n            link: PATH_HOME\r\n        },\r\n        {\r\n            iconName: \"person\",\r\n            title: \"Following\",\r\n            link: PATH_HOME\r\n        },\r\n        {\r\n            iconName: \"cloud-upload\",\r\n            title: \"Upload\",\r\n            link: PATH_HOME\r\n        },\r\n    ];\r\n    return (\r\n        <Container className=\"flexCenter\">\r\n            {itemsModel.map((item, index) => {\r\n                return (\r\n                    <Item key={index} to={item.link} activeClassName=\"active\" exact>\r\n                        <ion-icon name={item.iconName}></ion-icon>\r\n                        <span className=\"text\">{item.title}</span>\r\n                    </Item>\r\n                );\r\n            })}\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Container = styled.div`\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    display: none;\r\n    background-color: ${p => p.theme.colors.main};\r\n    \r\n    ${breakpoint.breakMobile`\r\n        display: flex;\r\n    `}\r\n`;\r\n\r\nconst Item = styled(NavLink)`\r\n    padding: 15px 0;\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    ion-icon {\r\n        font-size: 20px;\r\n    }\r\n    \r\n    .text {\r\n        margin-top: 7px;\r\n    }\r\n`;","import { Column, Grid, Row } from \"@mycv/mycv-grid\";\r\nimport styled from \"styled-components\";\r\nimport Popper from '@material-ui/core/Popper';\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport { AddMenuModule } from \"src/Modules\";\r\nimport { playerSelector } from \"src/Redux\";\r\nimport { motion } from \"framer-motion\";\r\nimport { breakpoint } from \"src/Utilities\";\r\n\r\nexport const SearchResultSongItem = ({\r\n    data = {},\r\n    onClickPlay = () => {},\r\n    onShowMenu = () => {},\r\n    anchorEl = null,\r\n    id = \"\",\r\n    open = false\r\n}) => {\r\n    const currentSong = useSelector(playerSelector).currentSong || {};\r\n    const isPlaying = data.fileUrl === currentSong.musicSrc;\r\n    const animate = {\r\n        scale: 1.3\r\n    };\r\n    return (\r\n        <SongContainer>\r\n            <Grid>\r\n                <Row>\r\n                    <Column\r\n                        sizeDesktop={6}\r\n                        sizeTablet={7}\r\n                        size={12}\r\n                    >\r\n                        <div style={{display: 'flex'}}>\r\n                            <div className=\"thumb\">\r\n                                <img src={data.thumbUrl} alt={data.name} />\r\n                            </div>\r\n                            <div className=\"info\">\r\n                                <h3 className=\"songName\">{data.name}</h3>\r\n                                <p className=\"singer\">Ca sĩ: {data.singer}</p>\r\n                                <p className=\"author\">Sáng tác: {data.author}</p>\r\n                                <div className=\"listControlsMobile listControls\">\r\n                                    <motion.span \r\n                                        className=\"icon playIcon\" \r\n                                        onClick={onClickPlay}\r\n                                        whileHover={animate}\r\n                                    >\r\n                                        <ion-icon name={isPlaying ? \"pause-circle-outline\" : \"play-circle-outline\"}></ion-icon>\r\n                                    </motion.span>\r\n                                    <motion.span \r\n                                        className=\"icon addIcon\" \r\n                                        onClick={onShowMenu}\r\n                                        whileHover={animate}\r\n                                    >\r\n                                        <ion-icon id={id.toString()} name=\"add-circle-outline\"></ion-icon>\r\n                                        <Popper \r\n                                            id={id.toString()} \r\n                                            open={open} \r\n                                            anchorEl={anchorEl}\r\n                                            transition={true}\r\n                                        >\r\n                                            <AddMenuModule data={data} />\r\n                                        </Popper>\r\n                                    </motion.span>\r\n                                    <motion.span \r\n                                        className=\"icon heartIcon\"\r\n                                        whileHover={animate}\r\n                                    >\r\n                                        <ion-icon name=\"heart-outline\"></ion-icon>\r\n                                    </motion.span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Column>\r\n                    <Column\r\n                        sizeDesktop={3}\r\n                        sizeTablet={2}\r\n                        size={0}\r\n                    >\r\n                        <div className=\"listControls\">\r\n                            <motion.span \r\n                                className=\"icon playIcon\" \r\n                                onClick={onClickPlay}\r\n                                whileHover={animate}\r\n                            >\r\n                                <ion-icon name={isPlaying ? \"pause-circle-outline\" : \"play-circle-outline\"}></ion-icon>\r\n                            </motion.span>\r\n                            <motion.span \r\n                                className=\"icon addIcon\" \r\n                                onClick={onShowMenu}\r\n                                whileHover={animate}\r\n                            >\r\n                                <ion-icon id={id.toString()} name=\"add-circle-outline\"></ion-icon>\r\n                                <Popper \r\n                                    id={id.toString()} \r\n                                    open={open} \r\n                                    anchorEl={anchorEl}\r\n                                    transition={true}\r\n                                >\r\n                                    <AddMenuModule data={data} />\r\n                                </Popper>\r\n                            </motion.span>\r\n                            <motion.span \r\n                                className=\"icon heartIcon\"\r\n                                whileHover={animate}\r\n                            >\r\n                                <ion-icon name=\"heart-outline\"></ion-icon>\r\n                            </motion.span>\r\n                        </div>\r\n                    </Column>\r\n                    <Column\r\n                        sizeDesktop={3}\r\n                        sizeTablet={3}\r\n                        size={0}\r\n                    >\r\n                        <div className=\"subInfo flexCenter\">\r\n                            {data.listVisitorIds.length} lượt nghe\r\n                        </div>\r\n                    </Column>\r\n                </Row>\r\n            </Grid>\r\n        </SongContainer>\r\n    );\r\n};\r\n\r\nconst SongContainer = styled.div`\r\n    display: flex;\r\n    padding: 10px 0; \r\n\r\n    .thumb {\r\n        width: 100px;\r\n        margin-right: 10px;\r\n\r\n        img {\r\n            width: 100%;\r\n        }\r\n    }\r\n\r\n    .listControls {\r\n        padding-top: 10px;\r\n\r\n        .icon {\r\n            margin: 0 5px;\r\n            cursor: pointer;\r\n            display: inline-block;\r\n\r\n            ion-icon {\r\n                font-size: 23px;\r\n            }\r\n        }\r\n\r\n        .addIcon {\r\n            position: relative;\r\n\r\n            .addMenu {\r\n                position: absolute;\r\n                top: 100%;\r\n                left: 50%;\r\n                transform: translateX(-50%);\r\n            }\r\n        }\r\n    }\r\n\r\n    .listControlsMobile {\r\n        display: none;\r\n\r\n        ${breakpoint.breakMobile`\r\n            display: block;\r\n        `}\r\n    }\r\n`;","import { breakpoint } from \"src/Utilities\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const AddMenuComponent = ({\r\n    onAddToCurrent = () => {},\r\n    onShowMenu = () => {}\r\n}) => {\r\n    return (\r\n        <Container>\r\n            <p className=\"item\" onClick={onAddToCurrent}>Thêm vào danh sách phát</p>\r\n            <p className=\"item\" onClick={onShowMenu}>Thêm vào playlist</p>\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Container = styled.div`\r\n    background-color: ${p => p.theme.colors.secondary};\r\n    width: 200px;\r\n    z-index: 3;\r\n    border-radius: 8px;\r\n    overflow: hidden;\r\n    box-shadow: 3px 5px 8px rgba(0, 0, 0, .3), 3px 5px 10px rgba(0, 0, 0, .3);\r\n\r\n    .item {\r\n        font-size: 13px;\r\n        padding: 10px 20px;\r\n        cursor: pointer;\r\n\r\n        ${breakpoint.breakMobile`\r\n            font-size: 15px;\r\n            padding: 10px;\r\n        `}\r\n\r\n        &:hover {\r\n            background-color: ${p => p.theme.colors.main};\r\n        }\r\n    }\r\n`;","import styled from \"styled-components\";\r\n\r\nexport const AvatarComponent = ({\r\n    width = 40,\r\n    avatarUrl = null\r\n}) => {\r\n    return (\r\n        <Container width={width} avatarUrl={avatarUrl}>\r\n            {avatarUrl ? (\r\n                <></>\r\n            ) : (\r\n                <div className=\"emptyAvatar\">\r\n                    <ion-icon name=\"person-circle\"></ion-icon>\r\n                </div>\r\n            )}\r\n        </Container>\r\n    );\r\n};\r\n\r\nconst Container = styled.div`\r\n    width: ${p => p.width + \"px\"};\r\n    height: ${p => p.width + \"px\"};\r\n    /* background-color: #fff; */\r\n    background-image: url(${p => p.avatarUrl ? p.avatarUrl : \"\"});\r\n    background-size: cover;\r\n    background-position: center;\r\n    border-radius: 50%;\r\n    border: ${p => p.avatarUrl ? `1px solid ${p.theme.colors.gray_1}` : \"unset\"};\r\n    cursor: pointer;\r\n    position: relative;\r\n\r\n    .emptyAvatar {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n\r\n        ion-icon {\r\n            font-size: ${p => p.width + \"px\"};\r\n        }\r\n    }\r\n`;","import { Column, Row } from \"@mycv/mycv-grid\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { songApi } from \"src/Api\";\r\nimport { StyledHomePage, SongItemComponent } from \"src/Components\";\r\nimport { concatPlaylist, historySelector, openPlayer, play, replacePlaylist } from \"src/Redux\";\r\nimport { convertSongInfo } from \"src/Utilities\";\r\n\r\nconst ADD_TAG = \"add\";\r\nconst REPLACE_TAG = \"replace\";\r\n\r\nexport const Home = () => {\r\n    const [songs, setSongs] = useState([]);\r\n    const dispatch = useDispatch();\r\n    const listRecently = useSelector(historySelector).recently;\r\n\r\n    const fetchSongs = async () => {\r\n        try {\r\n            const res = await songApi.getListSongs({ all: true });\r\n            const topSongs = res.data.data.sort().slice(0, 6).map(song => convertSongInfo(song));\r\n            setSongs(topSongs);\r\n        } catch (err) {\r\n            console.log(err.response);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchSongs();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        dispatch(openPlayer());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const handleClickSong = (song, tag = REPLACE_TAG) => {\r\n        if (tag === REPLACE_TAG) {\r\n            dispatch(replacePlaylist([convertSongInfo(song)]));\r\n        } else if (tag === ADD_TAG) {\r\n            dispatch(concatPlaylist([convertSongInfo(song)]));\r\n        }\r\n        dispatch(play());\r\n    };\r\n    return (\r\n        <StyledHomePage>\r\n            <div className=\"listTopSongs\">\r\n                <h2 className=\"heading\">Top bài hát nghe nhiều nhất</h2>\r\n                <Row>\r\n                    {songs.length ? songs.map(song => {\r\n                        const onClickPlayBtn = () => handleClickSong(song);\r\n                        const onClickAddBtn = () => handleClickSong(song, ADD_TAG);\r\n                        return (\r\n                            <Column\r\n                                key={\"\" + song.key + Date.now()}\r\n                                size={12}\r\n                                sizeTablet={4}\r\n                                sizeDesktop={2}\r\n                            >\r\n                                <SongItemComponent\r\n                                    data={song} \r\n                                    onClickPlayBtn={onClickPlayBtn} \r\n                                    onClickAddBtn={onClickAddBtn}\r\n                                />\r\n                            </Column>\r\n                        );\r\n                    }) : <></>}\r\n                </Row>\r\n            </div>\r\n            <div className=\"listTopSongs\">\r\n                <h2 className=\"heading\">Nghe gần đây</h2>\r\n                <p className=\"noSongs\">{listRecently.length === 0 ? \"Không có bài hát nào\" : \"\"}</p>\r\n                <Row>\r\n                    {listRecently.length ? listRecently.map(song => {\r\n                        const onClickPlayBtn = () => handleClickSong(song);\r\n                        const onClickAddBtn = () => handleClickSong(song, ADD_TAG);\r\n                        return (\r\n                            <Column\r\n                                key={\"\" + song.key + Date.now()}\r\n                                size={12}\r\n                                sizeTablet={6}\r\n                                sizeDesktop={3}\r\n                            >\r\n                                <SongItemComponent\r\n                                    data={song} \r\n                                    onClickPlayBtn={onClickPlayBtn} \r\n                                    onClickAddBtn={onClickAddBtn}\r\n                                />\r\n                            </Column>\r\n                        );\r\n                    }) : <></>}\r\n                </Row>\r\n            </div>\r\n        </StyledHomePage>\r\n    );\r\n};","import {\r\n    Home,\r\n    SearchResult,\r\n    AccountSetting\r\n} from \"src/Pages\";\r\n\r\nexport const PATH_HOME = \"/\";\r\nexport const PATH_SEARCH_RESULT = \"/search\";\r\nexport const PATH_ACCOUNT_SETTING = \"/account\";\r\n\r\nexport const router = [\r\n    { path: PATH_HOME, component: Home },\r\n    { path: PATH_SEARCH_RESULT + \"/:keySearch\", component: SearchResult },\r\n    { path: PATH_ACCOUNT_SETTING, component: AccountSetting },\r\n]","import { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport { songApi } from \"src/Api\";\r\nimport { StyledSearchResultPage } from \"src/Components\";\r\nimport { SearchResultSongItemModule } from \"src/Modules\";\r\nimport { play, replacePlaylist } from \"src/Redux\";\r\nimport { convertSongInfo } from \"src/Utilities\";\r\n\r\nexport const SearchResult = () => {\r\n    const { keySearch } = useParams();\r\n    const [listResults, setListResults] = useState([]);\r\n    const dispatch = useDispatch();\r\n    const fetchSongs = async () => {\r\n        try {\r\n            const res = await songApi.getListSongs({\r\n                q: keySearch,\r\n                all: true\r\n            });\r\n            setListResults(res.data.data);\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        fetchSongs();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [keySearch]);\r\n    return (\r\n        <StyledSearchResultPage>\r\n            <div className=\"songs\">\r\n                <p className=\"heading\">Bài hát:</p>\r\n                {listResults.map((result, index) => {\r\n                    const handleClickPlay = () => {\r\n                        const payload = convertSongInfo(result);\r\n                        dispatch(replacePlaylist([payload]));\r\n                        dispatch(play());\r\n                    };\r\n                    return (\r\n                        <SearchResultSongItemModule \r\n                            key={result._id} \r\n                            data={result} \r\n                            onClickPlay={handleClickPlay}\r\n                            index={index}\r\n                        />\r\n                    );\r\n                })}\r\n            </div>\r\n        </StyledSearchResultPage>\r\n    );\r\n};","import { TextField } from \"@material-ui/core\";\r\nimport { useRef } from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { authApi } from \"src/Api\";\r\nimport { StyledAccountPage, StyledUpdateButton, AvatarComponent, LoadingOverLay } from \"src/Components\";\r\nimport { getInfo, authSelector } from \"src/Redux\";\r\n\r\nexport const AccountSetting = () => {\r\n    const userInfo = useSelector(authSelector).userInfo;\r\n    const [updateInfo, setUpdateInfo] = useState({\r\n        username: userInfo.username,\r\n        avatar: null\r\n    });\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isValidForm, setIsValidForm] = useState(false);\r\n    const avatarInputRef = useRef(null);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch(getInfo());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const handleChangeUsername = (event) => {\r\n        setUpdateInfo({\r\n            ...updateInfo,\r\n            username: event.target.value\r\n        });\r\n    };\r\n\r\n    const handleChangeAvatar = (event) => {\r\n        setUpdateInfo({\r\n            ...updateInfo,\r\n            avatar: event.target.files[0]\r\n        });\r\n    };\r\n    \r\n    useEffect(() => {\r\n        if (!updateInfo.username.trim() || !updateInfo.avatar || updateInfo.username.trim().length > 36) {\r\n            setIsValidForm(false);\r\n        } else {\r\n            setIsValidForm(true);\r\n        }\r\n    }, [updateInfo]);\r\n\r\n    const handleUpdate = async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            setIsValidForm(false);\r\n            const formData = new FormData();\r\n            formData.append(\"username\", updateInfo.username);\r\n            formData.append(\"avatar\", updateInfo.avatar);\r\n            await authApi.updateInfo(formData);\r\n            toast.success(\"Cập nhật thành công!\");\r\n            dispatch(getInfo());\r\n        } catch (err) {\r\n            console.log(err);\r\n            toast.error(\"Cập nhật không thành công!\");\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <StyledAccountPage>\r\n            <div className=\"infoWrapper\">\r\n                <div className=\"generalInfo\">\r\n                    <h2 className=\"heading\">Thông tin tài khoản:</h2>\r\n                    <div className=\"generalInfoWrapper\">\r\n                        <AvatarComponent avatarUrl={userInfo.avatarUrl} width={150} />\r\n                        <div className=\"userInfo\">\r\n                            <p className=\"username\">Username: <br />\r\n                                <span className=\"value\">{userInfo.username}</span>\r\n                            </p>\r\n                            <p className=\"email\">Email: <br />\r\n                                <span className=\"value\">{userInfo.email}</span>\r\n                            </p>\r\n                            <p className=\"followers\">Followers: {userInfo.followers}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"update\">\r\n                    <h2 className=\"heading\">Cập nhật thông tin tài khoản:</h2>\r\n                    <div className=\"updateInfo\">\r\n                        <div className=\"updateItem\">\r\n                            <TextField \r\n                                label=\"Username\"\r\n                                variant=\"outlined\"\r\n                                value={updateInfo.username}\r\n                                onChange={handleChangeUsername}\r\n                                fullWidth\r\n                            />\r\n                        </div>\r\n                        <div className=\"updateItem avatar\">\r\n                            <label className=\"labelAvatar\" htmlFor=\"avatarInput\">Avatar:</label><br />\r\n                            <input ref={avatarInputRef} id=\"avatarInput\" type=\"file\" accept=\"image/*\" onChange={handleChangeAvatar} />\r\n                        </div>\r\n                    </div>\r\n                    <StyledUpdateButton disabled={!isValidForm} onClick={handleUpdate}>\r\n                        Cập nhật\r\n                    </StyledUpdateButton>\r\n                </div>\r\n            </div>\r\n            {isLoading ? <LoadingOverLay /> : <></>}\r\n        </StyledAccountPage>\r\n    );\r\n};","import {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route\r\n} from \"react-router-dom\";\r\nimport {\r\n    Grid,\r\n    Row,\r\n    Column\r\n} from '@mycv/mycv-grid'\r\n\r\nimport { router } from \"src/Routes\";\r\nimport { SideBarComponent, StyledBackground } from \"src/Components\";\r\nimport { HeaderModule, FooterModule } from \"src/Modules\";\r\n\r\nexport const Layout = () => {\r\n    return (\r\n        <Grid>\r\n            <Router>\r\n                <Switch>\r\n                    <Row noGutters>\r\n                        <Column \r\n                            sizeDesktop={2}\r\n                            sizeTablet={3}\r\n                            size={0}\r\n                        >\r\n                            <SideBarComponent />\r\n                        </Column>\r\n                        <Column \r\n                            sizeDesktop={10}\r\n                            sizeTablet={9}\r\n                            size={12}\r\n                        >\r\n                            \r\n                            <div className=\"main\" style={{ paddingBottom: \"80px\" }}>\r\n                                <StyledBackground />\r\n                                <HeaderModule />\r\n                                <Switch>\r\n                                    {router.map((route, index) => <Route key={index} path={route.path} component={route.component} exact />)}\r\n                                </Switch>\r\n                                <FooterModule />\r\n                            </div>\r\n                        </Column>\r\n                    </Row>\r\n                </Switch>\r\n            </Router>\r\n        </Grid>\r\n    );\r\n};","import ReactJkMusicPlayer from \"react-jinke-music-player\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport 'react-jinke-music-player/assets/index.css'\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useRef, useEffect } from \"react\";\r\n\r\nimport { Layout } from \"src/Layout\";\r\nimport { addPlayedSong, authSelector, formLoginSelector, hiddenFormLogin, pause, play, playerSelector, replacePlaylist, updateCurrentSong, updateHistory } from \"src/Redux\";\r\nimport { convertSongInfo } from \"src/Utilities\";\r\nimport { songApi } from \"src/Api\";\r\nimport { LoginModalComponent } from \"./Components/LoginModalComponent\";\r\nimport { PATH_ACCOUNT_SETTING, PATH_HOME } from \"./Routes\";\r\n\r\n\r\nexport const App = () => {\r\n    const playerRedux = useSelector(playerSelector);\r\n    const listPlaying = playerRedux.playlist;\r\n    const isPlaying = playerRedux.isPlaying;\r\n    const listPlayedSongs = playerRedux.listPlayedSongs;\r\n    const userInfo = useSelector(authSelector).userInfo;\r\n    const isShowFormLogin = useSelector(formLoginSelector).isShowFormLogin;\r\n    const audioRef = useRef(null);\r\n    const dispatch = useDispatch();\r\n    const volumeRef = useRef(null);\r\n    \r\n    const getAudioRef = (ref) => {\r\n        audioRef.current = ref;\r\n    };\r\n\r\n    const handlePlaylistChange = (currentPlayId, audioLists, audioInfo) => {\r\n        dispatch(replacePlaylist(audioLists));\r\n    };\r\n\r\n    const handleAudioPlay = (audioInfo) => {\r\n        if (!volumeRef.current) {\r\n            audioRef.current.volume = 0.99;\r\n            volumeRef.current = audioRef.current.volume;\r\n        }\r\n        const songInfo = convertSongInfo(audioInfo);\r\n        dispatch(updateHistory(songInfo));\r\n        dispatch(updateCurrentSong(songInfo));\r\n        dispatch(play());\r\n    };\r\n\r\n    const handleAudioProgress = (audioInfo) => {\r\n        const progress = 100 / audioInfo.duration * audioInfo.currentTime;\r\n        if (progress >= 50) {\r\n            const isPlayed = listPlayedSongs.some(slug => slug === audioInfo.key);\r\n            if (!isPlayed) {\r\n                songApi.incrementView(audioInfo.key)\r\n                .then(console.log)\r\n                .catch(console.log)\r\n                .finally(() => {\r\n                    dispatch(addPlayedSong(audioInfo.key));\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleAudioPause = () => {\r\n        dispatch(pause());\r\n    };\r\n    \r\n    const handleHiddenLogin = () => {\r\n        dispatch(hiddenFormLogin());\r\n    };\r\n\r\n    useEffect(() => {\r\n        const isAuthPage = window.location.pathname === PATH_ACCOUNT_SETTING;\r\n        if (!userInfo && isAuthPage) {\r\n            window.location.assign(PATH_HOME);\r\n        }\r\n    }, [userInfo]);\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Layout />\r\n            <ToastContainer\r\n                position=\"top-right\"\r\n                autoClose={2000}\r\n                hideProgressBar={true}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                draggable\r\n            />\r\n            <ReactJkMusicPlayer \r\n                quietUpdate \r\n                defaultPosition={{ right: 100, top: 100 }} \r\n                audioLists={listPlaying} \r\n                showDownload={false}\r\n                glassBg\r\n                mode=\"full\"\r\n                autoPlay={isPlaying}\r\n                getAudioInstance={getAudioRef}\r\n                clearPriorAudioLists\r\n                showThemeSwitch={false}\r\n                theme={\"dark\"}\r\n                onAudioListsChange={handlePlaylistChange}\r\n                onAudioPlay={handleAudioPlay}\r\n                onAudioProgress={handleAudioProgress}\r\n                onAudioPause={handleAudioPause}\r\n            />\r\n            {isShowFormLogin && (\r\n                <LoginModalComponent\r\n                    onHiddenLogin={handleHiddenLogin}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { ThemeProvider } from 'styled-components';\nimport { PersistGate } from 'redux-persist/integration/react';\n\nimport { App } from \"src/App\";\nimport './index.css';\nimport \"./grid.css\";\nimport reportWebVitals from './reportWebVitals';\nimport store, { persistor } from 'src/Redux';\nimport { theme } from 'src/Utilities';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <PersistGate loading={null} persistor={persistor}>\n        <Provider store={store}>\n          <App />\n        </Provider>\n      </PersistGate>\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}